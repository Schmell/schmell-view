import{s as it,a as N,l as de,g as L,i as P,f as p,e as h,t as I,c as b,b as w,d as g,o as _,h as i,j as Y,m as ee,n as ke,p as rt}from"../chunks/scheduler.60fdcb34.js";import{S as ot,i as ut,c as Ee,a as $e,m as ye,t as Q,b as W,d as Ce,g as at,e as nt}from"../chunks/index.c7b4b125.js";import{P as ft}from"../chunks/Page.1107c6af.js";import{e as ct}from"../chunks/forms.eea97056.js";import"../chunks/paths.9f848c40.js";import"../chunks/form.be75c675.js";import"../chunks/index.f836e1a8.js";import{B as st}from"../chunks/button.0888a59b.js";function Qe(r){var m;let e,t=r[1].error+"",l,a,d,n=((m=r[1])==null?void 0:m.errCode)==="m-001"&&We();return{c(){e=h("div"),l=I(t),a=N(),n&&n.c(),d=de(),this.h()},l(c){e=b(c,"DIV",{class:!0});var v=w(e);l=g(v,t),v.forEach(p),a=L(c),n&&n.l(c),d=de(),this.h()},h(){_(e,"class","font-bold text-warning")},m(c,v){P(c,e,v),i(e,l),P(c,a,v),n&&n.m(c,v),P(c,d,v)},p(c,v){var f;v&2&&t!==(t=c[1].error+"")&&Y(l,t),((f=c[1])==null?void 0:f.errCode)==="m-001"?n||(n=We(),n.c(),n.m(d.parentNode,d)):n&&(n.d(1),n=null)},d(c){c&&(p(e),p(a),p(d)),n&&n.d(c)}}}function We(r){let e,t="You can request the Publisher to merge this venue with your Series or Events";return{c(){e=h("p"),e.textContent=t},l(l){e=b(l,"P",{["data-svelte-h"]:!0}),ee(e)!=="svelte-189fjqx"&&(e.textContent=t)},m(l,a){P(l,e,a)},d(l){l&&p(e)}}}function _t(r){let e,t="An Error Occured";return{c(){e=h("div"),e.textContent=t},l(l){e=b(l,"DIV",{["data-svelte-h"]:!0}),ee(e)!=="svelte-gdmtno"&&(e.textContent=t)},m(l,a){P(l,e,a)},p:ke,i:ke,o:ke,d(l){l&&p(e)}}}function dt(r){var Le,we,Se,Ve,Ae,De,Te,Me,Ue;let e,t="You are trying to merge:",l,a,d,n,m=((Le=r[0])!=null&&Le.name&&((we=r[0])==null?void 0:we.name.length)>0?(Se=r[0])==null?void 0:Se.name:"No name provided")+"",c,v,f,s,o="with",y,k,te,R,Ie="Include:",le,X,ae,E,H,ne,me,z,se,pe,G,ie,ve,J,re,he,oe,ue,fe,ce,_e,q,B,F,be,ge,S=((Ve=r[1])==null?void 0:Ve.data)&&Xe(r),V=((Ae=r[0])==null?void 0:Ae._count.Series)&&Ze(r),A=((De=r[0])==null?void 0:De._count.Events)&&xe(r),D=((Te=r[0])==null?void 0:Te._count.Comments)&&et(r),T=((Me=r[0])==null?void 0:Me._count.Likes)&&tt(r),M=((Ue=r[0])==null?void 0:Ue._count.Follows)&&lt(r);const Pe=[pt,mt],K=[];function Ne(u,$){var U;return((U=u[1])==null?void 0:U.errCode)==="m-001"?0:1}return q=Ne(r),B=K[q]=Pe[q](r),{c(){e=h("div"),e.textContent=t,l=N(),a=h("div"),d=h("div"),n=h("a"),c=I(m),f=N(),s=h("div"),s.textContent=o,y=N(),k=h("div"),S&&S.c(),te=N(),R=h("div"),R.textContent=Ie,le=N(),X=h("hr"),ae=N(),E=h("form"),H=h("input"),me=N(),z=h("input"),pe=N(),G=h("input"),ve=N(),J=h("input"),he=N(),V&&V.c(),oe=N(),A&&A.c(),ue=N(),D&&D.c(),fe=N(),T&&T.c(),ce=N(),M&&M.c(),_e=N(),B.c(),this.h()},l(u){e=b(u,"DIV",{class:!0,["data-svelte-h"]:!0}),ee(e)!=="svelte-1rx1yii"&&(e.textContent=t),l=L(u),a=b(u,"DIV",{});var $=w(a);d=b($,"DIV",{});var U=w(d);n=b(U,"A",{href:!0,class:!0});var j=w(n);c=g(j,m),j.forEach(p),U.forEach(p),f=L($),s=b($,"DIV",{class:!0,["data-svelte-h"]:!0}),ee(s)!=="svelte-1txxug3"&&(s.textContent=o),y=L($),k=b($,"DIV",{});var O=w(k);S&&S.l(O),O.forEach(p),$.forEach(p),te=L(u),R=b(u,"DIV",{class:!0,["data-svelte-h"]:!0}),ee(R)!=="svelte-1slyvqd"&&(R.textContent=Ie),le=L(u),X=b(u,"HR",{class:!0}),ae=L(u),E=b(u,"FORM",{method:!0,action:!0});var C=w(E);H=b(C,"INPUT",{type:!0,name:!0}),me=L(C),z=b(C,"INPUT",{type:!0,name:!0}),pe=L(C),G=b(C,"INPUT",{type:!0,name:!0}),ve=L(C),J=b(C,"INPUT",{type:!0,name:!0}),he=L(C),V&&V.l(C),oe=L(C),A&&A.l(C),ue=L(C),D&&D.l(C),fe=L(C),T&&T.l(C),ce=L(C),M&&M.l(C),_e=L(C),B.l(C),C.forEach(p),this.h()},h(){var u,$,U,j,O,C,Z,x;_(e,"class","text-xl font-semibold underline pb-2"),_(n,"href",v="/venue/"+((u=r[0])==null?void 0:u.id)),_(n,"class","font-semibold"),_(s,"class","text-sm"),_(R,"class","text-lg pt-4"),_(X,"class","border-primary pb-2"),_(H,"type","hidden"),_(H,"name","venueId"),H.value=ne=(U=($=r[1])==null?void 0:$.data)==null?void 0:U.id,_(z,"type","hidden"),_(z,"name","toMergeId"),z.value=se=(j=r[0])==null?void 0:j.id,_(G,"type","hidden"),_(G,"name","publisherEmail"),G.value=ie=(C=(O=r[1])==null?void 0:O.data.Publisher)==null?void 0:C.email,_(J,"type","hidden"),_(J,"name","requesterEmail"),J.value=re=(x=(Z=r[0])==null?void 0:Z.Publisher)==null?void 0:x.email,_(E,"method","post"),_(E,"action","?/merge")},m(u,$){P(u,e,$),P(u,l,$),P(u,a,$),i(a,d),i(d,n),i(n,c),i(a,f),i(a,s),i(a,y),i(a,k),S&&S.m(k,null),P(u,te,$),P(u,R,$),P(u,le,$),P(u,X,$),P(u,ae,$),P(u,E,$),i(E,H),i(E,me),i(E,z),i(E,pe),i(E,G),i(E,ve),i(E,J),i(E,he),V&&V.m(E,null),i(E,oe),A&&A.m(E,null),i(E,ue),D&&D.m(E,null),i(E,fe),T&&T.m(E,null),i(E,ce),M&&M.m(E,null),i(E,_e),K[q].m(E,null),F=!0,be||(ge=rt(ct.call(null,E)),be=!0)},p(u,$){var j,O,C,Z,x,qe,Be,Fe,Re,je,Oe,Ye,He,ze,Ge,Je,Ke;(!F||$&1)&&m!==(m=((j=u[0])!=null&&j.name&&((O=u[0])==null?void 0:O.name.length)>0?(C=u[0])==null?void 0:C.name:"No name provided")+"")&&Y(c,m),(!F||$&1&&v!==(v="/venue/"+((Z=u[0])==null?void 0:Z.id)))&&_(n,"href",v),(x=u[1])!=null&&x.data?S?S.p(u,$):(S=Xe(u),S.c(),S.m(k,null)):S&&(S.d(1),S=null),(!F||$&2&&ne!==(ne=(Be=(qe=u[1])==null?void 0:qe.data)==null?void 0:Be.id))&&(H.value=ne),(!F||$&1&&se!==(se=(Fe=u[0])==null?void 0:Fe.id))&&(z.value=se),(!F||$&2&&ie!==(ie=(je=(Re=u[1])==null?void 0:Re.data.Publisher)==null?void 0:je.email))&&(G.value=ie),(!F||$&1&&re!==(re=(Ye=(Oe=u[0])==null?void 0:Oe.Publisher)==null?void 0:Ye.email))&&(J.value=re),(He=u[0])!=null&&He._count.Series?V?V.p(u,$):(V=Ze(u),V.c(),V.m(E,oe)):V&&(V.d(1),V=null),(ze=u[0])!=null&&ze._count.Events?A?A.p(u,$):(A=xe(u),A.c(),A.m(E,ue)):A&&(A.d(1),A=null),(Ge=u[0])!=null&&Ge._count.Comments?D?D.p(u,$):(D=et(u),D.c(),D.m(E,fe)):D&&(D.d(1),D=null),(Je=u[0])!=null&&Je._count.Likes?T?T.p(u,$):(T=tt(u),T.c(),T.m(E,ce)):T&&(T.d(1),T=null),(Ke=u[0])!=null&&Ke._count.Follows?M?M.p(u,$):(M=lt(u),M.c(),M.m(E,_e)):M&&(M.d(1),M=null);let U=q;q=Ne(u),q!==U&&(at(),W(K[U],1,1,()=>{K[U]=null}),nt(),B=K[q],B||(B=K[q]=Pe[q](u),B.c()),Q(B,1),B.m(E,null))},i(u){F||(Q(B),F=!0)},o(u){W(B),F=!1},d(u){u&&(p(e),p(l),p(a),p(te),p(R),p(le),p(X),p(ae),p(E)),S&&S.d(),V&&V.d(),A&&A.d(),D&&D.d(),T&&T.d(),M&&M.d(),K[q].d(),be=!1,ge()}}}function Xe(r){var d;let e,t=((d=r[1])==null?void 0:d.data.name)+"",l,a;return{c(){e=h("a"),l=I(t),this.h()},l(n){e=b(n,"A",{href:!0,class:!0});var m=w(e);l=g(m,t),m.forEach(p),this.h()},h(){var n,m;_(e,"href",a="/venue/"+((m=(n=r[1])==null?void 0:n.data)==null?void 0:m.id)),_(e,"class","font-semibold")},m(n,m){P(n,e,m),i(e,l)},p(n,m){var c,v,f;m&2&&t!==(t=((c=n[1])==null?void 0:c.data.name)+"")&&Y(l,t),m&2&&a!==(a="/venue/"+((f=(v=n[1])==null?void 0:v.data)==null?void 0:f.id))&&_(e,"href",a)},d(n){n&&p(e)}}}function Ze(r){let e,t,l,a,d,n=r[0]._count.Series+"",m,c,v,f;return{c(){e=h("label"),t=h("div"),l=I("Series "),a=h("span"),d=I("("),m=I(n),c=I(")"),v=N(),f=h("input"),this.h()},l(s){e=b(s,"LABEL",{for:!0,class:!0});var o=w(e);t=b(o,"DIV",{});var y=w(t);l=g(y,"Series "),a=b(y,"SPAN",{class:!0});var k=w(a);d=g(k,"("),m=g(k,n),c=g(k,")"),k.forEach(p),y.forEach(p),v=L(o),f=b(o,"INPUT",{name:!0,type:!0,class:!0}),o.forEach(p),this.h()},h(){_(a,"class","tex-xs opacity-60"),_(f,"name","series"),_(f,"type","checkbox"),f.checked=!0,_(f,"class","checkbox"),_(e,"for","series"),_(e,"class","label")},m(s,o){P(s,e,o),i(e,t),i(t,l),i(t,a),i(a,d),i(a,m),i(a,c),i(e,v),i(e,f)},p(s,o){o&1&&n!==(n=s[0]._count.Series+"")&&Y(m,n)},d(s){s&&p(e)}}}function xe(r){let e,t,l,a,d,n=r[0]._count.Events+"",m,c,v,f;return{c(){e=h("label"),t=h("div"),l=I("Events "),a=h("span"),d=I("("),m=I(n),c=I(")"),v=N(),f=h("input"),this.h()},l(s){e=b(s,"LABEL",{for:!0,class:!0});var o=w(e);t=b(o,"DIV",{});var y=w(t);l=g(y,"Events "),a=b(y,"SPAN",{class:!0});var k=w(a);d=g(k,"("),m=g(k,n),c=g(k,")"),k.forEach(p),y.forEach(p),v=L(o),f=b(o,"INPUT",{name:!0,type:!0,class:!0}),o.forEach(p),this.h()},h(){_(a,"class","tex-xs opacity-60"),_(f,"name","events"),_(f,"type","checkbox"),f.checked=!0,_(f,"class","checkbox"),_(e,"for","events"),_(e,"class","label")},m(s,o){P(s,e,o),i(e,t),i(t,l),i(t,a),i(a,d),i(a,m),i(a,c),i(e,v),i(e,f)},p(s,o){o&1&&n!==(n=s[0]._count.Events+"")&&Y(m,n)},d(s){s&&p(e)}}}function et(r){let e,t,l,a,d,n=r[0]._count.Comments+"",m,c,v,f;return{c(){e=h("label"),t=h("div"),l=I("Comments "),a=h("span"),d=I("("),m=I(n),c=I(")"),v=N(),f=h("input"),this.h()},l(s){e=b(s,"LABEL",{for:!0,class:!0});var o=w(e);t=b(o,"DIV",{});var y=w(t);l=g(y,"Comments "),a=b(y,"SPAN",{class:!0});var k=w(a);d=g(k,"("),m=g(k,n),c=g(k,")"),k.forEach(p),y.forEach(p),v=L(o),f=b(o,"INPUT",{name:!0,type:!0,class:!0}),o.forEach(p),this.h()},h(){_(a,"class","tex-xs opacity-60"),_(f,"name","comments"),_(f,"type","checkbox"),f.checked=!0,_(f,"class","checkbox"),_(e,"for","comments"),_(e,"class","label")},m(s,o){P(s,e,o),i(e,t),i(t,l),i(t,a),i(a,d),i(a,m),i(a,c),i(e,v),i(e,f)},p(s,o){o&1&&n!==(n=s[0]._count.Comments+"")&&Y(m,n)},d(s){s&&p(e)}}}function tt(r){let e,t,l,a,d,n=r[0]._count.Likes+"",m,c,v,f;return{c(){e=h("label"),t=h("div"),l=I("Likes "),a=h("span"),d=I("("),m=I(n),c=I(")"),v=N(),f=h("input"),this.h()},l(s){e=b(s,"LABEL",{for:!0,class:!0});var o=w(e);t=b(o,"DIV",{});var y=w(t);l=g(y,"Likes "),a=b(y,"SPAN",{class:!0});var k=w(a);d=g(k,"("),m=g(k,n),c=g(k,")"),k.forEach(p),y.forEach(p),v=L(o),f=b(o,"INPUT",{name:!0,type:!0,class:!0}),o.forEach(p),this.h()},h(){_(a,"class","tex-xs opacity-60"),_(f,"name","likes"),_(f,"type","checkbox"),f.checked=!0,_(f,"class","checkbox"),_(e,"for","likes"),_(e,"class","label")},m(s,o){P(s,e,o),i(e,t),i(t,l),i(t,a),i(a,d),i(a,m),i(a,c),i(e,v),i(e,f)},p(s,o){o&1&&n!==(n=s[0]._count.Likes+"")&&Y(m,n)},d(s){s&&p(e)}}}function lt(r){let e,t,l,a,d,n=r[0]._count.Follows+"",m,c,v,f;return{c(){e=h("label"),t=h("div"),l=I("Follows "),a=h("span"),d=I("("),m=I(n),c=I(")"),v=N(),f=h("input"),this.h()},l(s){e=b(s,"LABEL",{for:!0,class:!0});var o=w(e);t=b(o,"DIV",{});var y=w(t);l=g(y,"Follows "),a=b(y,"SPAN",{class:!0});var k=w(a);d=g(k,"("),m=g(k,n),c=g(k,")"),k.forEach(p),y.forEach(p),v=L(o),f=b(o,"INPUT",{name:!0,type:!0,class:!0}),o.forEach(p),this.h()},h(){_(a,"class","tex-xs opacity-60"),_(f,"name","follows"),_(f,"type","checkbox"),f.checked=!0,_(f,"class","checkbox"),_(e,"for","follows"),_(e,"class","label")},m(s,o){P(s,e,o),i(e,t),i(t,l),i(t,a),i(a,d),i(a,m),i(a,c),i(e,v),i(e,f)},p(s,o){o&1&&n!==(n=s[0]._count.Follows+"")&&Y(m,n)},d(s){s&&p(e)}}}function mt(r){let e,t;return e=new st({props:{$$slots:{default:[vt]},$$scope:{ctx:r}}}),{c(){Ee(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ce(e,l)}}}function pt(r){let e,t;return e=new st({props:{formaction:"?/requestMerge",$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){Ee(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ce(e,l)}}}function vt(r){let e;return{c(){e=I("Merge")},l(t){e=g(t,"Merge")},m(t,l){P(t,e,l)},d(t){t&&p(e)}}}function ht(r){let e;return{c(){e=I("Request Merge")},l(t){e=g(t,"Request Merge")},m(t,l){P(t,e,l)},d(t){t&&p(e)}}}function bt(r){var f;let e,t,l,a,d,n=((f=r[1])==null?void 0:f.error)&&Qe(r);const m=[dt,_t],c=[];function v(s,o){var y;return(y=s[1])!=null&&y.data?0:1}return t=v(r),l=c[t]=m[t](r),{c(){n&&n.c(),e=N(),l.c(),a=de()},l(s){n&&n.l(s),e=L(s),l.l(s),a=de()},m(s,o){n&&n.m(s,o),P(s,e,o),c[t].m(s,o),P(s,a,o),d=!0},p(s,o){var k;(k=s[1])!=null&&k.error?n?n.p(s,o):(n=Qe(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null);let y=t;t=v(s),t===y?c[t].p(s,o):(at(),W(c[y],1,1,()=>{c[y]=null}),nt(),l=c[t],l?l.p(s,o):(l=c[t]=m[t](s),l.c()),Q(l,1),l.m(a.parentNode,a))},i(s){d||(Q(l),d=!0)},o(s){W(l),d=!1},d(s){s&&(p(e),p(a)),n&&n.d(s),c[t].d(s)}}}function kt(r){let e,t;return e=new ft({props:{title:"Merge Venues",$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){Ee(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p(l,[a]){const d={};a&11&&(d.$$scope={dirty:a,ctx:l}),e.$set(d)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){Ce(e,l)}}}function Et(r,e,t){let l,a,{data:d}=e;return r.$$set=n=>{"data"in n&&t(2,d=n.data)},r.$$.update=()=>{r.$$.dirty&4&&t(1,{venue:l,venueToMerge:a}=d,l,(t(0,a),t(2,d)))},[a,l,d]}class wt extends ot{constructor(e){super(),ut(this,e,Et,kt,it,{data:2})}}export{wt as component};
