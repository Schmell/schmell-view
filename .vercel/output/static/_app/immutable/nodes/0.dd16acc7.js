import{P as De,s as Ne,T as Ve,e as p,a as z,c as g,b as $,g as U,f as u,o as i,i as se,h as s,u as ee,U as Fe,V as ze,W as Ue,k as be,t as te,d as re,p as Pe,n as Me,I as Be,A as He,D as q,j as We,m as de,r as ye}from"../chunks/scheduler.60fdcb34.js";import{S as je,i as Re,c as Q,a as G,m as J,t as F,b as B,e as we,d as K,j as Ee,g as ke}from"../chunks/index.c7b4b125.js";import{p as Te}from"../chunks/stores.b0332cd2.js";import{d as qe}from"../chunks/index.b20a7130.js";import{w as Qe}from"../chunks/singletons.f8a34b6d.js";import{I as X}from"../chunks/Icon.8be3835b.js";import{g as Ge}from"../chunks/client.3119d533.js";const Je=20,ie=Qe([]),me=new Map,Ie=t=>{if(me.has(t))return;const e=setTimeout(()=>{me.delete(t),Se(t)},1e3);me.set(t,e)},Ke=t=>{const e=me.get(t);e&&clearTimeout(e)};function Xe(t){t.id&&Ke(t.id),ie.update(e=>e.map(r=>r.id===t.id?{...r,...t}:r))}function Ye(t){ie.update(e=>[t,...e].slice(0,Je))}function Ze(t){De(ie).find(e=>e.id===t.id)?Xe(t):Ye(t)}function xe(t){ie.update(e=>(t?Ie(t):e.forEach(r=>{Ie(r.id)}),e.map(r=>r.id===t||t===void 0?{...r,visible:!1}:r)))}function Se(t){ie.update(e=>t===void 0?[]:e.filter(r=>r.id!==t))}const et=t=>typeof t=="function",Ae=(t,e)=>et(t)?t(e):t,tt=(()=>{let t=0;return()=>(t+=1,t.toString())})(),rt=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tt()}),ce=t=>(e,r)=>{const n=rt(e,t,r);return Ze(n),n.id},Y=(t,e)=>ce("blank")(t,e);Y.error=ce("error");Y.success=ce("success");Y.loading=ce("loading");Y.custom=ce("custom");Y.dismiss=t=>{xe(t)};Y.remove=t=>Se(t);Y.promise=(t,e,r)=>{const n=Y.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(c=>(Y.success(Ae(e.success,c),{id:n,...r,...r==null?void 0:r.success}),c)).catch(c=>{Y.error(Ae(e.error,c),{id:n,...r,...r==null?void 0:r.error})}),t};function st(t){const e=t-1;return e*e*e+1}function Le(t,{delay:e=0,duration:r=400,easing:n=st,axis:c="y"}={}){const v=getComputedStyle(t),w=+v.opacity,l=c==="y"?"height":"width",d=parseFloat(v[l]),m=c==="y"?["top","bottom"]:["left","right"],O=m.map(I=>`${I[0].toUpperCase()}${I.slice(1)}`),o=parseFloat(v[`padding${O[0]}`]),f=parseFloat(v[`padding${O[1]}`]),S=parseFloat(v[`margin${O[0]}`]),E=parseFloat(v[`margin${O[1]}`]),_=parseFloat(v[`border${O[0]}Width`]),T=parseFloat(v[`border${O[1]}Width`]);return{delay:e,duration:r,easing:n,css:I=>`overflow: hidden;opacity: ${Math.min(I*20,1)*w};${l}: ${I*d}px;padding-${m[0]}: ${I*o}px;padding-${m[1]}: ${I*f}px;margin-${m[0]}: ${I*S}px;margin-${m[1]}: ${I*E}px;border-${m[0]}-width: ${I*_}px;border-${m[1]}-width: ${I*T}px;`}}function nt(t){let e,r="Login";return{c(){e=p("a"),e.textContent=r,this.h()},l(n){e=g(n,"A",{href:!0,class:!0,["data-svelte-h"]:!0}),de(e)!=="svelte-1czp0bn"&&(e.textContent=r),this.h()},h(){i(e,"href","/auth/login"),i(e,"class","btn btn-primary btn-xs rounded-full shadow-lg")},m(n,c){se(n,e,c)},p:Me,d(n){n&&u(e)}}}function at(t){let e,r,n,c,v,w,l,d,m,O,o,f,S,E,_,T,I,D,N='<div class="divider m-0 p-0"></div>',V,j,R='<form method="POST"><button formaction="/?/logout" type="submit">Logout</button></form>';return{c(){e=p("div"),r=p("div"),n=p("img"),w=z(),l=p("ul"),d=p("li"),m=p("a"),O=te("Profile"),f=z(),S=p("li"),E=p("a"),_=te("Settings"),I=z(),D=p("li"),D.innerHTML=N,V=z(),j=p("li"),j.innerHTML=R,this.h()},l(h){e=g(h,"DIV",{class:!0});var k=$(e);r=g(k,"DIV",{tabindex:!0,class:!0});var H=$(r);n=g(H,"IMG",{src:!0,alt:!0}),H.forEach(u),w=U(k),l=g(k,"UL",{tabindex:!0,class:!0});var b=$(l);d=g(b,"LI",{});var W=$(d);m=g(W,"A",{href:!0});var Z=$(m);O=re(Z,"Profile"),Z.forEach(u),W.forEach(u),f=U(b),S=g(b,"LI",{});var ne=$(S);E=g(ne,"A",{href:!0});var y=$(E);_=re(y,"Settings"),y.forEach(u),ne.forEach(u),I=U(b),D=g(b,"LI",{["data-svelte-h"]:!0}),de(D)!=="svelte-88iacx"&&(D.innerHTML=N),V=U(b),j=g(b,"LI",{["data-svelte-h"]:!0}),de(j)!=="svelte-1eyvmkn"&&(j.innerHTML=R),b.forEach(u),k.forEach(u),this.h()},h(){var h,k;ye(n.src,c=(h=t[2])==null?void 0:h.avatar)||i(n,"src",c),i(n,"alt",v=(k=t[2])==null?void 0:k.name),i(r,"tabindex","-1"),i(r,"class","w-10 rounded-full select-none"),i(m,"href",o="/auth/profile?from="+t[3].url.pathname),i(E,"href",T="/auth/settings?from="+t[3].url.pathname),i(l,"tabindex","-1"),i(l,"class","dropdown-content menu rounded-box w-52 bg-base-100 p-2 text-base-content drop-shadow-lg"),i(e,"class","dropdown-end dropdown avatar rounded-full border-2 border-neutral-content bg-black bg-opacity-20 drop-shadow-lg focus:bg-base-100")},m(h,k){se(h,e,k),s(e,r),s(r,n),s(e,w),s(e,l),s(l,d),s(d,m),s(m,O),s(l,f),s(l,S),s(S,E),s(E,_),s(l,I),s(l,D),s(l,V),s(l,j)},p(h,k){var H,b;k&4&&!ye(n.src,c=(H=h[2])==null?void 0:H.avatar)&&i(n,"src",c),k&4&&v!==(v=(b=h[2])==null?void 0:b.name)&&i(n,"alt",v),k&8&&o!==(o="/auth/profile?from="+h[3].url.pathname)&&i(m,"href",o),k&8&&T!==(T="/auth/settings?from="+h[3].url.pathname)&&i(E,"href",T)},d(h){h&&u(e)}}}function Ce(t){let e,r,n,c,v,w,l,d,m,O,o,f,S,E,_,T,I,D,N,V,j,R,h,k,H,b,W,Z,ne;return c=new X({props:{icon:"mdi:award"}}),d=new X({props:{icon:"material-symbols:calendar-month"}}),f=new X({props:{icon:"ic:outline-people-alt"}}),T=new X({props:{icon:"fluent:people-community-28-filled"}}),V=new X({props:{icon:"material-symbols:breaking-news-alt-1-outline"}}),k=new X({props:{icon:"material-symbols:upload-rounded"}}),{c(){e=p("section"),r=p("ul"),n=p("a"),Q(c.$$.fragment),v=te(" Series"),w=z(),l=p("a"),Q(d.$$.fragment),m=te(" Events"),O=z(),o=p("a"),Q(f.$$.fragment),S=te(" Organizations"),E=z(),_=p("a"),Q(T.$$.fragment),I=te(" Community"),D=z(),N=p("a"),Q(V.$$.fragment),j=te(" News"),R=z(),h=p("a"),Q(k.$$.fragment),H=te(" Import"),this.h()},l(y){e=g(y,"SECTION",{class:!0});var x=$(e);r=g(x,"UL",{class:!0});var A=$(r);n=g(A,"A",{href:!0,class:!0});var L=$(n);G(c.$$.fragment,L),v=re(L," Series"),L.forEach(u),w=U(A),l=g(A,"A",{href:!0,class:!0});var ae=$(l);G(d.$$.fragment,ae),m=re(ae," Events"),ae.forEach(u),O=U(A),o=g(A,"A",{href:!0,class:!0});var P=$(o);G(f.$$.fragment,P),S=re(P," Organizations"),P.forEach(u),E=U(A),_=g(A,"A",{href:!0,class:!0});var C=$(_);G(T.$$.fragment,C),I=re(C," Community"),C.forEach(u),D=U(A),N=g(A,"A",{href:!0,class:!0});var a=$(N);G(V.$$.fragment,a),j=re(a," News"),a.forEach(u),R=U(A),h=g(A,"A",{href:!0,class:!0});var M=$(h);G(k.$$.fragment,M),H=re(M," Import"),M.forEach(u),A.forEach(u),x.forEach(u),this.h()},h(){i(n,"href","/series"),i(n,"class","svelte-imontg"),i(l,"href","/events"),i(l,"class","svelte-imontg"),i(o,"href","/organization"),i(o,"class","svelte-imontg"),i(_,"href","/community"),i(_,"class","svelte-imontg"),i(N,"href","/news"),i(N,"class","svelte-imontg"),i(h,"href","/import"),i(h,"class","svelte-imontg"),i(r,"class","link-list svelte-imontg"),i(e,"class","disclosure-panel absolute svelte-imontg")},m(y,x){se(y,e,x),s(e,r),s(r,n),J(c,n,null),s(n,v),s(r,w),s(r,l),J(d,l,null),s(l,m),s(r,O),s(r,o),J(f,o,null),s(o,S),s(r,E),s(r,_),J(T,_,null),s(_,I),s(r,D),s(r,N),J(V,N,null),s(N,j),s(r,R),s(r,h),J(k,h,null),s(h,H),W=!0,Z||(ne=[ee(n,"click",t[6]),ee(l,"click",t[6]),ee(o,"click",t[6]),ee(_,"click",t[6]),ee(N,"click",t[6]),ee(h,"click",t[6]),Pe(qe.call(null,e)),ee(e,"click_outside",t[5])],Z=!0)},p:Me,i(y){W||(F(c.$$.fragment,y),F(d.$$.fragment,y),F(f.$$.fragment,y),F(T.$$.fragment,y),F(V.$$.fragment,y),F(k.$$.fragment,y),y&&Be(()=>{W&&(b||(b=Ee(e,Le,{},!0)),b.run(1))}),W=!0)},o(y){B(c.$$.fragment,y),B(d.$$.fragment,y),B(f.$$.fragment,y),B(T.$$.fragment,y),B(V.$$.fragment,y),B(k.$$.fragment,y),y&&(b||(b=Ee(e,Le,{},!1)),b.run(0)),W=!1},d(y){y&&u(e),K(c),K(d),K(f),K(T),K(V),K(k),y&&b&&b.end(),Z=!1,He(ne)}}}function Oe(t){let e,r,n=t[4].message+"",c,v,w,l,d,m,O;return l=new X({props:{icon:"mdi:close",width:"24"}}),{c(){e=p("div"),r=p("div"),c=te(n),v=z(),w=p("button"),Q(l.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=$(e);r=g(f,"DIV",{id:!0,class:!0});var S=$(r);c=re(S,n),S.forEach(u),v=U(f),w=g(f,"BUTTON",{class:!0});var E=$(w);G(l.$$.fragment,E),E.forEach(u),f.forEach(u),this.h()},h(){i(r,"id","flashMessage"),i(r,"class","p-2 text-lg font-semibold w-full z-10"),q(r,"text-error-content",t[4].type=="error"),q(r,"text-success-content",t[4].type==="success"),i(w,"class","pr-4"),q(w,"text-error-content",t[4].type=="error"),q(w,"text-success-content",t[4].type==="success"),i(e,"class","w-full flex justify-between items-center absolute bottom-16"),q(e,"bg-success",t[4].type==="success"),q(e,"bg-error",t[4].type=="error")},m(o,f){se(o,e,f),s(e,r),s(r,c),s(e,v),s(e,w),J(l,w,null),d=!0,m||(O=ee(w,"click",t[11]),m=!0)},p(o,f){(!d||f&16)&&n!==(n=o[4].message+"")&&We(c,n),(!d||f&16)&&q(r,"text-error-content",o[4].type=="error"),(!d||f&16)&&q(r,"text-success-content",o[4].type==="success"),(!d||f&16)&&q(w,"text-error-content",o[4].type=="error"),(!d||f&16)&&q(w,"text-success-content",o[4].type==="success"),(!d||f&16)&&q(e,"bg-success",o[4].type==="success"),(!d||f&16)&&q(e,"bg-error",o[4].type=="error")},i(o){d||(F(l.$$.fragment,o),d=!0)},o(o){B(l.$$.fragment,o),d=!1},d(o){o&&u(e),K(l),m=!1,O()}}}function lt(t){let e,r,n,c,v,w,l,d,m,O,o,f,S,E,_,T,I,D,N,V,j,R,h,k,H,b,W,Z,ne;l=new X({props:{class:"swap-off text-4xl text-primary-content opacity-90",icon:"mdi:menu"}}),m=new X({props:{class:"swap-on text-4xl text-primary-content opacity-90",icon:"mdi:close"}});function y(a,M){return a[0].user?at:nt}let x=y(t),A=x(t),L=t[1]&&Ce(t);const ae=t[9].default,P=Ve(ae,t,t[8],null);let C=t[4]&&Oe(t);return V=new X({props:{icon:"mdi:home-import-outline",width:"24"}}),h=new X({props:{icon:"material-symbols:circle-outline",width:"34"}}),b=new X({props:{icon:"mdi:menu",width:"24"}}),{c(){e=p("div"),r=p("nav"),n=p("button"),c=p("label"),v=p("input"),w=z(),Q(l.$$.fragment),d=z(),Q(m.$$.fragment),O=z(),o=p("div"),A.c(),f=z(),L&&L.c(),S=z(),E=p("main"),P&&P.c(),_=z(),T=p("footer"),C&&C.c(),I=z(),D=p("div"),N=p("a"),Q(V.$$.fragment),j=z(),R=p("a"),Q(h.$$.fragment),k=z(),H=p("button"),Q(b.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var M=$(e);r=g(M,"NAV",{class:!0});var ue=$(r);n=g(ue,"BUTTON",{class:!0});var _e=$(n);c=g(_e,"LABEL",{class:!0});var le=$(c);v=g(le,"INPUT",{type:!0}),w=U(le),G(l.$$.fragment,le),d=U(le),G(m.$$.fragment,le),le.forEach(u),_e.forEach(u),O=U(ue),o=g(ue,"DIV",{class:!0});var pe=$(o);A.l(pe),pe.forEach(u),ue.forEach(u),f=U(M),L&&L.l(M),M.forEach(u),S=U(a),E=g(a,"MAIN",{class:!0});var ge=$(E);P&&P.l(ge),ge.forEach(u),_=U(a),T=g(a,"FOOTER",{class:!0});var fe=$(T);C&&C.l(fe),I=U(fe),D=g(fe,"DIV",{class:!0});var oe=$(D);N=g(oe,"A",{href:!0});var he=$(N);G(V.$$.fragment,he),he.forEach(u),j=U(oe),R=g(oe,"A",{href:!0});var ve=$(R);G(h.$$.fragment,ve),ve.forEach(u),k=U(oe),H=g(oe,"BUTTON",{});var $e=$(H);G(b.$$.fragment,$e),$e.forEach(u),oe.forEach(u),fe.forEach(u),this.h()},h(){i(v,"type","checkbox"),i(c,"class","swap swap-rotate"),i(n,"class","btn-ghost btn hover:bg-transparent"),i(o,"class","user-nav svelte-imontg"),i(r,"class","navbar border-base-300 text-secondary-content svelte-imontg"),i(e,"class","fixed top-0 z-20 w-full"),i(E,"class","svelte-imontg"),i(N,"href","/"),i(R,"href","/"),i(D,"class","btm-nav text-base-content"),i(T,"class","shadow relative svelte-imontg")},m(a,M){se(a,e,M),s(e,r),s(r,n),s(n,c),s(c,v),s(c,w),J(l,c,null),s(c,d),J(m,c,null),s(r,O),s(r,o),A.m(o,null),s(e,f),L&&L.m(e,null),se(a,S,M),se(a,E,M),P&&P.m(E,null),se(a,_,M),se(a,T,M),C&&C.m(T,null),s(T,I),s(T,D),s(D,N),J(V,N,null),s(D,j),s(D,R),J(h,R,null),s(D,k),s(D,H),J(b,H,null),W=!0,Z||(ne=ee(n,"click",t[10]),Z=!0)},p(a,[M]){x===(x=y(a))&&A?A.p(a,M):(A.d(1),A=x(a),A&&(A.c(),A.m(o,null))),a[1]?L?(L.p(a,M),M&2&&F(L,1)):(L=Ce(a),L.c(),F(L,1),L.m(e,null)):L&&(ke(),B(L,1,1,()=>{L=null}),we()),P&&P.p&&(!W||M&256)&&Fe(P,ae,a,a[8],W?Ue(ae,a[8],M,null):ze(a[8]),null),a[4]?C?(C.p(a,M),M&16&&F(C,1)):(C=Oe(a),C.c(),F(C,1),C.m(T,I)):C&&(ke(),B(C,1,1,()=>{C=null}),we())},i(a){W||(F(l.$$.fragment,a),F(m.$$.fragment,a),F(L),F(P,a),F(C),F(V.$$.fragment,a),F(h.$$.fragment,a),F(b.$$.fragment,a),W=!0)},o(a){B(l.$$.fragment,a),B(m.$$.fragment,a),B(L),B(P,a),B(C),B(V.$$.fragment,a),B(h.$$.fragment,a),B(b.$$.fragment,a),W=!1},d(a){a&&(u(e),u(S),u(E),u(_),u(T)),K(l),K(m),A.d(),L&&L.d(),P&&P.d(a),C&&C.d(),K(V),K(h),K(b),Z=!1,ne()}}}function ot(t,e,r){let n,c,v;be(t,Te,_=>r(3,c=_));let{$$slots:w={},$$scope:l}=e,{data:d}=e,m=!1;function O(){r(1,m=!1)}const o=()=>r(1,m=!m),f=Ge(Te);be(t,f,_=>r(4,v=_)),f.subscribe(_=>{_&&(_.type=="success"&&Y.success(_.message,{icon:"✅",position:"bottom-center",className:"mb-96 z-10 absolute"}),_.type=="error"&&Y.error(_.message,{icon:"❌"}))});const S=()=>{o()},E=()=>{f.set(void 0)};return t.$$set=_=>{"data"in _&&r(0,d=_.data),"$$scope"in _&&r(8,l=_.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&r(2,{user:n}=d,n)},[d,m,n,c,v,O,o,f,l,w,S,E]}class pt extends je{constructor(e){super(),Re(this,e,ot,lt,Ne,{data:0})}}export{pt as component};
