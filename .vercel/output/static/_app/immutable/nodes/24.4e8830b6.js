import{s as R,k as U,l as O,i as d,f as c,e as p,c as g,b as $,o as u,w as W,m as X,n as j,H as Y,a as E,t as N,z as Z,g as z,d as C,h as I,j as L}from"../chunks/scheduler.60fdcb34.js";import{S as x,i as ee,c as A,a as y,m as D,t as h,b as v,d as V,g as S,e as H}from"../chunks/index.c7b4b125.js";import{e as T}from"../chunks/each.e5af29b3.js";import{P as te}from"../chunks/Page.1107c6af.js";import{I as re}from"../chunks/ItemCard.b8ad2ed8.js";import{I as q}from"../chunks/Icon.8be3835b.js";import{p as le}from"../chunks/stores.b0332cd2.js";import{g as F}from"../chunks/index.b20a7130.js";function G(s,e,l){const t=s.slice();return t[4]=e[l],t}function ae(s){let e,l,t=T(s[1]),r=[];for(let a=0;a<t.length;a+=1)r[a]=M(G(s,t,a));const i=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=O()},l(a){for(let n=0;n<r.length;n+=1)r[n].l(a);e=O()},m(a,n){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(a,n);d(a,e,n),l=!0},p(a,n){if(n&11){t=T(a[1]);let o;for(o=0;o<t.length;o+=1){const f=G(a,t,o);r[o]?(r[o].p(f,n),h(r[o],1)):(r[o]=M(f),r[o].c(),h(r[o],1),r[o].m(e.parentNode,e))}for(S(),o=t.length;o<r.length;o+=1)i(o);H()}},i(a){if(!l){for(let n=0;n<t.length;n+=1)h(r[n]);l=!0}},o(a){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)v(r[n]);l=!1},d(a){a&&c(e),W(r,a)}}}function ie(s){let e,l="No Organizations available yet";return{c(){e=p("div"),e.textContent=l},l(t){e=g(t,"DIV",{["data-svelte-h"]:!0}),X(e)!=="svelte-1sb1w42"&&(e.textContent=l)},m(t,r){d(t,e,r)},p:j,i:j,o:j,d(t){t&&c(e)}}}function oe(s){let e,l,t=(s[4].description??"No description provided")+"",r,i,a,n,o=s[4].website+"",f,m,b,w;return a=new q({props:{icon:"clarity:pop-out-line",class:"inline"}}),{c(){e=p("div"),l=new Y(!1),r=E(),i=p("a"),A(a.$$.fragment),n=p("span"),f=N(o),b=E(),this.h()},l(_){e=g(_,"DIV",{});var k=$(e);l=Z(k,!1),k.forEach(c),r=z(_),i=g(_,"A",{href:!0,target:!0,class:!0});var P=$(i);y(a.$$.fragment,P),n=g(P,"SPAN",{});var B=$(n);f=C(B,o),B.forEach(c),P.forEach(c),b=z(_),this.h()},h(){l.a=null,u(i,"href",m=F(s[4].website)),u(i,"target","_blank"),u(i,"class","pt-2 flex items-center gap-1 text-sm font-semibold text-secondary")},m(_,k){d(_,e,k),l.m(t,e),d(_,r,k),d(_,i,k),D(a,i,null),I(i,n),I(n,f),d(_,b,k),w=!0},p(_,k){(!w||k&2)&&t!==(t=(_[4].description??"No description provided")+"")&&l.p(t),(!w||k&2)&&o!==(o=_[4].website+"")&&L(f,o),(!w||k&2&&m!==(m=F(_[4].website)))&&u(i,"href",m)},i(_){w||(h(a.$$.fragment,_),w=!0)},o(_){v(a.$$.fragment,_),w=!1},d(_){_&&(c(e),c(r),c(i),c(b)),V(a)}}}function ne(s){var o;let e,l,t,r=((o=s[4].Owner)==null?void 0:o.username)+"",i,a,n;return{c(){e=p("div"),l=p("a"),t=N("@"),i=N(r),n=E(),this.h()},l(f){e=g(f,"DIV",{slot:!0,class:!0});var m=$(e);l=g(m,"A",{href:!0});var b=$(l);t=C(b,"@"),i=C(b,r),b.forEach(c),n=z(m),m.forEach(c),this.h()},h(){var f;u(l,"href",a="/user/"+((f=s[4].Owner)==null?void 0:f.id)),u(e,"slot","top-right"),u(e,"class","text-xs")},m(f,m){d(f,e,m),I(e,l),I(l,t),I(l,i),I(e,n)},p(f,m){var b,w;m&2&&r!==(r=((b=f[4].Owner)==null?void 0:b.username)+"")&&L(i,r),m&2&&a!==(a="/user/"+((w=f[4].Owner)==null?void 0:w.id))&&u(l,"href",a)},d(f){f&&c(e)}}}function J(s){let e,l=s[4].createdAt.toLocaleString()+"",t;return{c(){e=p("div"),t=N(l),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=$(e);t=C(i,l),i.forEach(c),this.h()},h(){u(e,"class","text-xs text-base-content m-2 ml-2")},m(r,i){d(r,e,i),I(e,t)},p(r,i){i&2&&l!==(l=r[4].createdAt.toLocaleString()+"")&&L(t,l)},d(r){r&&c(e)}}}function se(s){let e,l,t=s[4].createdAt&&J(s);return{c(){e=p("div"),t&&t.c(),l=E(),this.h()},l(r){e=g(r,"DIV",{slot:!0});var i=$(e);t&&t.l(i),l=z(i),i.forEach(c),this.h()},h(){u(e,"slot","bottom-left")},m(r,i){d(r,e,i),t&&t.m(e,null),I(e,l)},p(r,i){r[4].createdAt?t?t.p(r,i):(t=J(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null)},d(r){r&&c(e),t&&t.d()}}}function K(s){let e,l,t,r,i;return t=new q({props:{icon:"material-symbols:edit-outline",width:"24"}}),{c(){e=p("div"),l=p("a"),A(t.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0,"data-tip":!0});var n=$(e);l=g(n,"A",{"data-sveltekit-replacestate":!0,href:!0,class:!0});var o=$(l);y(t.$$.fragment,o),o.forEach(c),n.forEach(c),this.h()},h(){var a;u(l,"data-sveltekit-replacestate",""),u(l,"href",r="/organization/"+((a=s[4])==null?void 0:a.id)+"/edit?from="+s[3].url.pathname),u(l,"class","btn btn-ghost"),u(e,"class","tooltip tooltip-top"),u(e,"data-tip","Organization Edit")},m(a,n){d(a,e,n),I(e,l),D(t,l,null),i=!0},p(a,n){var o;(!i||n&10&&r!==(r="/organization/"+((o=a[4])==null?void 0:o.id)+"/edit?from="+a[3].url.pathname))&&u(l,"href",r)},i(a){i||(h(t.$$.fragment,a),i=!0)},o(a){v(t.$$.fragment,a),i=!1},d(a){a&&c(e),V(t)}}}function fe(s){var i,a;let e,l,t,r=((i=s[0].user)==null?void 0:i.userId)===((a=s[4])==null?void 0:a.ownerId)&&K(s);return{c(){e=p("div"),r&&r.c(),l=E(),this.h()},l(n){e=g(n,"DIV",{slot:!0,class:!0});var o=$(e);r&&r.l(o),l=z(o),o.forEach(c),this.h()},h(){u(e,"slot","bottom-right"),u(e,"class","flex justify-end text-primary")},m(n,o){d(n,e,o),r&&r.m(e,null),I(e,l),t=!0},p(n,o){var f,m;((f=n[0].user)==null?void 0:f.userId)===((m=n[4])==null?void 0:m.ownerId)?r?(r.p(n,o),o&3&&h(r,1)):(r=K(n),r.c(),h(r,1),r.m(e,l)):r&&(S(),v(r,1,1,()=>{r=null}),H())},i(n){t||(h(r),t=!0)},o(n){v(r),t=!1},d(n){n&&c(e),r&&r.d()}}}function M(s){let e,l;return e=new re({props:{title:s[4].name,href:"/organization/"+s[4].id,$$slots:{"bottom-right":[fe],"bottom-left":[se],"top-right":[ne],default:[oe]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,r){const i={};r&2&&(i.title=t[4].name),r&2&&(i.href="/organization/"+t[4].id),r&139&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function ce(s){let e,l,t,r;const i=[ie,ae],a=[];function n(o,f){return o[1].length?1:0}return e=n(s),l=a[e]=i[e](s),{c(){l.c(),t=O()},l(o){l.l(o),t=O()},m(o,f){a[e].m(o,f),d(o,t,f),r=!0},p(o,f){let m=e;e=n(o),e===m?a[e].p(o,f):(S(),v(a[m],1,1,()=>{a[m]=null}),H(),l=a[e],l?l.p(o,f):(l=a[e]=i[e](o),l.c()),h(l,1),l.m(t.parentNode,t))},i(o){r||(h(l),r=!0)},o(o){v(l),r=!1},d(o){o&&c(t),a[e].d(o)}}}function Q(s){let e,l,t,r;return l=new q({props:{icon:"material-symbols:add-circle",width:"24"}}),{c(){e=p("a"),A(l.$$.fragment),this.h()},l(i){e=g(i,"A",{href:!0});var a=$(e);y(l.$$.fragment,a),a.forEach(c),this.h()},h(){u(e,"href",t="/organization/new/edit?from="+s[3].url.pathname)},m(i,a){d(i,e,a),D(l,e,null),r=!0},p(i,a){(!r||a&8&&t!==(t="/organization/new/edit?from="+i[3].url.pathname))&&u(e,"href",t)},i(i){r||(h(l.$$.fragment,i),r=!0)},o(i){v(l.$$.fragment,i),r=!1},d(i){i&&c(e),V(l)}}}function ue(s){let e,l,t=s[2]&&Q(s);return{c(){e=p("div"),t&&t.c(),this.h()},l(r){e=g(r,"DIV",{slot:!0});var i=$(e);t&&t.l(i),i.forEach(c),this.h()},h(){u(e,"slot","trailing")},m(r,i){d(r,e,i),t&&t.m(e,null),l=!0},p(r,i){r[2]?t?(t.p(r,i),i&4&&h(t,1)):(t=Q(r),t.c(),h(t,1),t.m(e,null)):t&&(S(),v(t,1,1,()=>{t=null}),H())},i(r){l||(h(t),l=!0)},o(r){v(t),l=!1},d(r){r&&c(e),t&&t.d()}}}function me(s){let e,l;return e=new te({props:{title:"All Organizations",$$slots:{trailing:[ue],default:[ce]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,[r]){const i={};r&143&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function _e(s,e,l){let t,r,i;U(s,le,n=>l(3,i=n));let{data:a}=e;return s.$$set=n=>{"data"in n&&l(0,a=n.data)},s.$$.update=()=>{s.$$.dirty&1&&l(1,{orgs:t,user:r}=a,t,(l(2,r),l(0,a))),s.$$.dirty&2&&console.log("orgs: ",t)},[a,t,r,i]}class we extends x{constructor(e){super(),ee(this,e,_e,me,R,{data:0})}}export{we as component};
