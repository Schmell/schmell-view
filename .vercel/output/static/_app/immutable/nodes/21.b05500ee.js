import{s as Ot,k as St,a5 as Dt,e as d,a as p,t as ft,c as b,b as N,g as c,m as Te,f as u,d as pt,o as m,x as Le,I as Lt,i as y,h as i,J as wt,u as Ge,w as Vt,A as Ft,n as Ie,a4 as mt,G as qt,j as At,l as It}from"../chunks/scheduler.60fdcb34.js";import{S as Pt,i as Nt,c as h,a as v,m as k,t as g,b as _,d as w,g as Ut,e as Mt}from"../chunks/index.c7b4b125.js";import{P as Bt}from"../chunks/Page.1107c6af.js";import"../chunks/paths.9f848c40.js";/* empty css                                                       */import{p as Tt}from"../chunks/stores.b0332cd2.js";import{e as Ct}from"../chunks/each.e5af29b3.js";import{g as Rt}from"../chunks/navigation.82bf316a.js";import{F as zt,s as Gt,L as Ht}from"../chunks/index.92f1b852.js";import{T as Jt}from"../chunks/textarea.8860c336.js";import{I as De}from"../chunks/input.b0365756.js";import{C as U}from"../chunks/check.2684df01.js";import{B as Wt}from"../chunks/button.0888a59b.js";import{I as Kt}from"../chunks/Icon.8be3835b.js";import{f as Qt}from"../chunks/client.3119d533.js";import{z as $}from"../chunks/index.0ec66d4d.js";const Xt=$.object({eventeid:$.string().nullable(),uniqueIdString:$.string(),name:$.string().min(3).max(64),eventwebsite:$.string().nullable(),email:$.string().email().nullable(),venueName:$.string().nullable(),description:$.string().nullable(),titleImage:$.string().url().nullable(),public:$.boolean(),complete:$.boolean(),Venue:$.any().nullable(),venueId:$.string().nullable(),resultColumns:$.object({rank:$.boolean().nullable().optional(),points:$.boolean().nullable().optional(),position:$.boolean().nullable().optional(),skipper:$.boolean().nullable().optional(),boat:$.boolean().nullable().optional(),sailno:$.boolean().nullable().optional(),finish:$.boolean().nullable().optional(),corrected:$.boolean().nullable().optional(),elapsed:$.boolean().nullable().optional(),nett:$.boolean().nullable().optional(),total:$.boolean().nullable().optional()})});function Et(r,t,l){const n=r.slice();return n[14]=t[l],n}function Yt(r){let t,l;return t=new De({props:{name:"eventeid",formObj:r[7]}}),{c(){h(t.$$.fragment)},l(n){v(t.$$.fragment,n)},m(n,a){k(t,n,a),l=!0},p:Ie,i(n){l||(g(t.$$.fragment,n),l=!0)},o(n){_(t.$$.fragment,n),l=!1},d(n){w(t,n)}}}function Zt(r){let t,l,n;return{c(){t=d("input"),this.h()},l(a){t=b(a,"INPUT",{name:!0,type:!0}),this.h()},h(){m(t,"name","eventeid"),m(t,"type","hidden")},m(a,s){y(a,t,s),Le(t,r[4].eventeid),l||(n=Ge(t,"input",r[9]),l=!0)},p(a,s){s&17&&Le(t,a[4].eventeid)},i:Ie,o:Ie,d(a){a&&u(t),l=!1,n()}}}function jt(r){let t;return{c(){t=d("input"),this.h()},l(l){t=b(l,"INPUT",{name:!0,type:!0}),this.h()},h(){m(t,"name","uniqueIdString"),m(t,"type","hidden"),t.value=r[8]},m(l,n){y(l,t,n)},p:Ie,d(l){l&&u(t)}}}function yt(r){let t,l=r[14].name+"",n,a,s,f;return{c(){t=d("option"),n=ft(l),a=p(),this.h()},l(I){t=b(I,"OPTION",{});var E=N(t);n=pt(E,l),a=c(E),E.forEach(u),this.h()},h(){t.__value=s=r[14].id,Le(t,t.__value),t.selected=f=!!r[4].venueId},m(I,E){y(I,t,E),i(t,n),i(t,a)},p(I,E){E&1&&l!==(l=I[14].name+"")&&At(n,l),E&1&&s!==(s=I[14].id)&&(t.__value=s,Le(t,t.__value)),E&17&&f!==(f=!!I[4].venueId)&&(t.selected=f)},d(I){I&&u(t)}}}function xt(r){let t;return{c(){t=ft("Submit")},l(l){t=pt(l,"Submit")},m(l,n){y(l,t,n)},d(l){l&&u(t)}}}function en(r){let t;return{c(){t=d("span"),this.h()},l(l){t=b(l,"SPAN",{class:!0}),N(t).forEach(u),this.h()},h(){m(t,"class","loading loading-dots loading-lg")},m(l,n){y(l,t,n)},d(l){l&&u(t)}}}function tn(r){let t;function l(s,f){return s[6]?en:xt}let n=l(r),a=n(r);return{c(){a.c(),t=It()},l(s){a.l(s),t=It()},m(s,f){a.m(s,f),y(s,t,f)},p(s,f){n!==(n=l(s))&&(a.d(1),a=n(s),a&&(a.c(),a.m(t.parentNode,t)))},d(s){s&&u(t),a.d(s)}}}function nn(r){let t,l,n,a,s,f,I,E,Ce="Public",ne,F,H,J,V,W,M="Complete",Ee,q,je,K,ye,Q,C,X,Ve,le,Fe,re,qe,Y,L,B,He,Ae,Je,Z,ae,Ue,Me,se,Be,j,oe,ct='<div class="text-2xl">Result Columns:</div>',We,ie,$t="Event Rankings",Ke,R,ue,Qe,me,Xe,fe,Ye,pe,dt="Display names",Ze,z,ce,xe,$e,et,de,tt,be,bt="Race Outcomes",nt,T,ge,lt,_e,rt,he,at,ve,st,ke,Re,x,Oe,ot,gt;const _t=[Zt,Yt],ee=[];function ht(e,o){return e[4].eventeid?0:1}l=ht(r),n=ee[l]=_t[l](r);let S=!r[4].uniqueIdString&&jt(r);K=new De({props:{name:"name",formObj:r[7]}}),Q=new Jt({props:{name:"description",formObj:r[7]}}),X=new De({props:{name:"eventwebsite",label:"Website",formObj:r[7]}}),le=new De({props:{name:"email",formObj:r[7]}}),re=new Ht({props:{name:"Venue",formObj:r[7]}});let Se=Ct(r[0].venues),O=[];for(let e=0;e<Se.length;e+=1)O[e]=yt(Et(r,Se,e));return ae=new Kt({props:{icon:"material-symbols:add-circle",width:"44"}}),se=new De({props:{name:"titleImage",label:"Title Image Url",formObj:r[7]}}),ue=new U({props:{label:"Rank",name:"resultColumns.rank",formObj:r[7]}}),me=new U({props:{label:"Nett",name:"resultColumns.nett",formObj:r[7]}}),fe=new U({props:{label:"Total",name:"resultColumns.total",formObj:r[7]}}),ce=new U({props:{label:"Boat",name:"resultColumns.boat",formObj:r[7]}}),$e=new U({props:{label:"Skipper",name:"resultColumns.skipper",formObj:r[7]}}),de=new U({props:{label:"Sail No.",name:"resultColumns.sailNo",formObj:r[7]}}),ge=new U({props:{label:"Points",name:"resultColumns.points",formObj:r[7]}}),_e=new U({props:{label:"Position",name:"resultColumns.position",formObj:r[7]}}),he=new U({props:{label:"Finish",name:"resultColumns.finish",formObj:r[7]}}),ve=new U({props:{label:"Corrected",name:"resultColumns.corrected",formObj:r[7]}}),ke=new U({props:{label:"Elapsed",name:"elapsed",formObj:r[7]}}),x=new Wt({props:{disabled:r[6],$$slots:{default:[tn]},$$scope:{ctx:r}}}),{c(){t=d("div"),n.c(),a=p(),S&&S.c(),s=p(),f=d("div"),I=d("label"),E=d("span"),E.textContent=Ce,ne=p(),F=d("input"),H=p(),J=d("div"),V=d("label"),W=d("span"),W.textContent=M,Ee=p(),q=d("input"),je=p(),h(K.$$.fragment),ye=p(),h(Q.$$.fragment),C=p(),h(X.$$.fragment),Ve=p(),h(le.$$.fragment),Fe=p(),h(re.$$.fragment),qe=p(),Y=d("div"),L=d("select"),B=d("option"),He=ft("None ");for(let e=0;e<O.length;e+=1)O[e].c();Je=p(),Z=d("a"),h(ae.$$.fragment),Me=p(),h(se.$$.fragment),Be=p(),j=d("fieldset"),oe=d("legend"),oe.innerHTML=ct,We=p(),ie=d("div"),ie.textContent=$t,Ke=p(),R=d("div"),h(ue.$$.fragment),Qe=p(),h(me.$$.fragment),Xe=p(),h(fe.$$.fragment),Ye=p(),pe=d("div"),pe.textContent=dt,Ze=p(),z=d("div"),h(ce.$$.fragment),xe=p(),h($e.$$.fragment),et=p(),h(de.$$.fragment),tt=p(),be=d("div"),be.textContent=bt,nt=p(),T=d("div"),h(ge.$$.fragment),lt=p(),h(_e.$$.fragment),rt=p(),h(he.$$.fragment),at=p(),h(ve.$$.fragment),st=p(),h(ke.$$.fragment),Re=p(),h(x.$$.fragment),this.h()},l(e){t=b(e,"DIV",{class:!0});var o=N(t);n.l(o),a=c(o),S&&S.l(o),s=c(o),f=b(o,"DIV",{class:!0});var A=N(f);I=b(A,"LABEL",{class:!0});var te=N(I);E=b(te,"SPAN",{class:!0,["data-svelte-h"]:!0}),Te(E)!=="svelte-1dvix5h"&&(E.textContent=Ce),ne=c(te),F=b(te,"INPUT",{type:!0,name:!0,class:!0}),te.forEach(u),A.forEach(u),H=c(o),J=b(o,"DIV",{class:!0});var P=N(J);V=b(P,"LABEL",{class:!0});var we=N(V);W=b(we,"SPAN",{class:!0,["data-svelte-h"]:!0}),Te(W)!=="svelte-1ylu0yf"&&(W.textContent=M),Ee=c(we),q=b(we,"INPUT",{type:!0,name:!0,class:!0}),we.forEach(u),P.forEach(u),o.forEach(u),je=c(e),v(K.$$.fragment,e),ye=c(e),v(Q.$$.fragment,e),C=c(e),v(X.$$.fragment,e),Ve=c(e),v(le.$$.fragment,e),Fe=c(e),v(re.$$.fragment,e),qe=c(e),Y=b(e,"DIV",{class:!0});var ze=N(Y);L=b(ze,"SELECT",{name:!0,class:!0});var it=N(L);B=b(it,"OPTION",{});var vt=N(B);He=pt(vt,"None "),vt.forEach(u);for(let ut=0;ut<O.length;ut+=1)O[ut].l(it);it.forEach(u),Je=c(ze),Z=b(ze,"A",{href:!0,class:!0});var kt=N(Z);v(ae.$$.fragment,kt),kt.forEach(u),ze.forEach(u),Me=c(e),v(se.$$.fragment,e),Be=c(e),j=b(e,"FIELDSET",{name:!0});var D=N(j);oe=b(D,"LEGEND",{class:!0,["data-svelte-h"]:!0}),Te(oe)!=="svelte-1shajew"&&(oe.innerHTML=ct),We=c(D),ie=b(D,"DIV",{class:!0,["data-svelte-h"]:!0}),Te(ie)!=="svelte-15nuxxj"&&(ie.textContent=$t),Ke=c(D),R=b(D,"DIV",{class:!0});var Pe=N(R);v(ue.$$.fragment,Pe),Qe=c(Pe),v(me.$$.fragment,Pe),Xe=c(Pe),v(fe.$$.fragment,Pe),Pe.forEach(u),Ye=c(D),pe=b(D,"DIV",{class:!0,["data-svelte-h"]:!0}),Te(pe)!=="svelte-6zv2i6"&&(pe.textContent=dt),Ze=c(D),z=b(D,"DIV",{class:!0});var Ne=N(z);v(ce.$$.fragment,Ne),xe=c(Ne),v($e.$$.fragment,Ne),et=c(Ne),v(de.$$.fragment,Ne),Ne.forEach(u),tt=c(D),be=b(D,"DIV",{class:!0,["data-svelte-h"]:!0}),Te(be)!=="svelte-1sqswwa"&&(be.textContent=bt),nt=c(D),T=b(D,"DIV",{class:!0});var G=N(T);v(ge.$$.fragment,G),lt=c(G),v(_e.$$.fragment,G),rt=c(G),v(he.$$.fragment,G),at=c(G),v(ve.$$.fragment,G),st=c(G),v(ke.$$.fragment,G),G.forEach(u),D.forEach(u),Re=c(e),v(x.$$.fragment,e),this.h()},h(){m(E,"class","label-text pr-4"),m(F,"type","checkbox"),m(F,"name","public"),m(F,"class","toggle toggle-success"),m(I,"class","label cursor-pointer"),m(f,"class","form-control"),m(W,"class","label-text pr-4"),m(q,"type","checkbox"),m(q,"name","complete"),m(q,"class","toggle toggle-success"),m(V,"class","label cursor-pointer"),m(J,"class","form-control"),m(t,"class","flex items-center gap-6"),B.__value=null,Le(B,B.__value),B.selected=Ae=!!r[4].venueId,m(L,"name","venueId"),m(L,"class","select select-bordered w-full"),r[4].venueId===void 0&&Lt(()=>r[12].call(L)),m(Z,"href",Ue="/venue/new/edit?"+r[5].url.searchParams.toString()),m(Z,"class","text-primary rounded-full shadow-lg"),m(Y,"class","pb-4 flex gap-2 justify-between items-center"),m(oe,"class","pb-2 w-full"),m(ie,"class","w-full p-2 font-semibold bg-gradient-to-r from-base-200 to-base-300 rounded-br-2xl border-t border-accent shadow-md"),m(R,"class","flex gap-4 px-2 py-1"),m(pe,"class","w-full p-2 font-semibold bg-gradient-to-r from-base-200 to-base-300 rounded-br-2xl border-t border-accent shadow-md"),m(z,"class","flex gap-4 px-2 py-1"),m(be,"class","w-full p-2 font-semibold bg-gradient-to-r from-base-200 to-base-300 rounded-br-2xl border-t border-accent shadow-md"),m(T,"class","flex gap-4 px-2 py-1"),m(j,"name","resultColumns")},m(e,o){y(e,t,o),ee[l].m(t,null),i(t,a),S&&S.m(t,null),i(t,s),i(t,f),i(f,I),i(I,E),i(I,ne),i(I,F),F.checked=r[4].public,i(t,H),i(t,J),i(J,V),i(V,W),i(V,Ee),i(V,q),q.checked=r[4].complete,y(e,je,o),k(K,e,o),y(e,ye,o),k(Q,e,o),y(e,C,o),k(X,e,o),y(e,Ve,o),k(le,e,o),y(e,Fe,o),k(re,e,o),y(e,qe,o),y(e,Y,o),i(Y,L),i(L,B),i(B,He);for(let A=0;A<O.length;A+=1)O[A]&&O[A].m(L,null);wt(L,r[4].venueId,!0),i(Y,Je),i(Y,Z),k(ae,Z,null),y(e,Me,o),k(se,e,o),y(e,Be,o),y(e,j,o),i(j,oe),i(j,We),i(j,ie),i(j,Ke),i(j,R),k(ue,R,null),i(R,Qe),k(me,R,null),i(R,Xe),k(fe,R,null),i(j,Ye),i(j,pe),i(j,Ze),i(j,z),k(ce,z,null),i(z,xe),k($e,z,null),i(z,et),k(de,z,null),i(j,tt),i(j,be),i(j,nt),i(j,T),k(ge,T,null),i(T,lt),k(_e,T,null),i(T,rt),k(he,T,null),i(T,at),k(ve,T,null),i(T,st),k(ke,T,null),y(e,Re,o),k(x,e,o),Oe=!0,ot||(gt=[Ge(F,"change",r[10]),Ge(q,"change",r[11]),Ge(L,"change",r[12])],ot=!0)},p(e,o){let A=l;if(l=ht(e),l===A?ee[l].p(e,o):(Ut(),_(ee[A],1,1,()=>{ee[A]=null}),Mt(),n=ee[l],n?n.p(e,o):(n=ee[l]=_t[l](e),n.c()),g(n,1),n.m(t,a)),e[4].uniqueIdString?S&&(S.d(1),S=null):S?S.p(e,o):(S=jt(e),S.c(),S.m(t,s)),o&17&&(F.checked=e[4].public),o&17&&(q.checked=e[4].complete),(!Oe||o&17&&Ae!==(Ae=!!e[4].venueId))&&(B.selected=Ae),o&17){Se=Ct(e[0].venues);let P;for(P=0;P<Se.length;P+=1){const we=Et(e,Se,P);O[P]?O[P].p(we,o):(O[P]=yt(we),O[P].c(),O[P].m(L,null))}for(;P<O.length;P+=1)O[P].d(1);O.length=Se.length}o&17&&wt(L,e[4].venueId),(!Oe||o&32&&Ue!==(Ue="/venue/new/edit?"+e[5].url.searchParams.toString()))&&m(Z,"href",Ue);const te={};o&64&&(te.disabled=e[6]),o&131136&&(te.$$scope={dirty:o,ctx:e}),x.$set(te)},i(e){Oe||(g(n),g(K.$$.fragment,e),g(Q.$$.fragment,e),g(X.$$.fragment,e),g(le.$$.fragment,e),g(re.$$.fragment,e),g(ae.$$.fragment,e),g(se.$$.fragment,e),g(ue.$$.fragment,e),g(me.$$.fragment,e),g(fe.$$.fragment,e),g(ce.$$.fragment,e),g($e.$$.fragment,e),g(de.$$.fragment,e),g(ge.$$.fragment,e),g(_e.$$.fragment,e),g(he.$$.fragment,e),g(ve.$$.fragment,e),g(ke.$$.fragment,e),g(x.$$.fragment,e),Oe=!0)},o(e){_(n),_(K.$$.fragment,e),_(Q.$$.fragment,e),_(X.$$.fragment,e),_(le.$$.fragment,e),_(re.$$.fragment,e),_(ae.$$.fragment,e),_(se.$$.fragment,e),_(ue.$$.fragment,e),_(me.$$.fragment,e),_(fe.$$.fragment,e),_(ce.$$.fragment,e),_($e.$$.fragment,e),_(de.$$.fragment,e),_(ge.$$.fragment,e),_(_e.$$.fragment,e),_(he.$$.fragment,e),_(ve.$$.fragment,e),_(ke.$$.fragment,e),_(x.$$.fragment,e),Oe=!1},d(e){e&&(u(t),u(je),u(ye),u(C),u(Ve),u(Fe),u(qe),u(Y),u(Me),u(Be),u(j),u(Re)),ee[l].d(),S&&S.d(),w(K,e),w(Q,e),w(X,e),w(le,e),w(re,e),Vt(O,e),w(ae),w(se,e),w(ue),w(me),w(fe),w(ce),w($e),w(de),w(ge),w(_e),w(he),w(ve),w(ke),w(x,e),ot=!1,Ft(gt)}}}function ln(r){let t,l;return t=new zt({props:{formObj:r[7],$$slots:{default:[nn]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(n){v(t.$$.fragment,n)},m(n,a){k(t,n,a),l=!0},p(n,[a]){const s={};a&131185&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){l||(g(t.$$.fragment,n),l=!0)},o(n){_(t.$$.fragment,n),l=!1},d(n){w(t,n)}}}function rn(r,t,l){let n,a,s,f,I=Ie,E=()=>(I(),I=mt(n,C=>l(4,f=C)),n),Ce,ne=Ie,F=()=>(ne(),ne=mt(a,C=>l(13,Ce=C)),a),H,J,V=Ie,W=()=>(V(),V=mt(s,C=>l(6,J=C)),s);St(r,Tt,C=>l(5,H=C)),r.$$.on_destroy.push(()=>I()),r.$$.on_destroy.push(()=>ne()),r.$$.on_destroy.push(()=>V());let{data:M}=t;const Ee=Gt(M.form,{taintedMessage:"Finish filling out the form or you will loose your data?",autoFocusOnError:!0,validators:Xt,dataType:"json",onUpdated(){const C=H.url.searchParams.get("from");H.url.searchParams.delete("from"),C?Rt(C+H.url.search,{replaceState:!0}):history.replaceState({from:"here"},"")},onError({result:C}){Dt(a,Ce=C.error.message,Ce)},flashMessage:{module:Qt,onError:({result:C,message:X})=>{X.set({type:"error",message:C.error.message})}},syncFlashMessage:!1});function q(){return f.name.toLowerCase().trim().split(" ").join("_")+"-"+f.eventeid+"-"+f.Venue.name.toLowerCase().trim().split(" ").join("_")}function je(){f.eventeid=this.value,n.set(f),l(0,M)}function K(){f.public=this.checked,n.set(f),l(0,M)}function ye(){f.complete=this.checked,n.set(f),l(0,M)}function Q(){f.venueId=qt(this),n.set(f),l(0,M)}return r.$$set=C=>{"data"in C&&l(0,M=C.data)},E(l(3,{form:n,message:a,delayed:s}=Ee,n,F(l(2,a)),W(l(1,s)))),[M,s,a,n,f,H,J,Ee,q,je,K,ye,Q]}class an extends Pt{constructor(t){super(),Nt(this,t,rn,ln,Ot,{data:0})}}function sn(r){let t,l;return t=new an({props:{data:r[0]}}),{c(){h(t.$$.fragment)},l(n){v(t.$$.fragment,n)},m(n,a){k(t,n,a),l=!0},p(n,a){const s={};a&1&&(s.data=n[0]),t.$set(s)},i(n){l||(g(t.$$.fragment,n),l=!0)},o(n){_(t.$$.fragment,n),l=!1},d(n){w(t,n)}}}function on(r){let t,l;return t=new Bt({props:{title:r[0].form.data.name,$$slots:{default:[sn]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},l(n){v(t.$$.fragment,n)},m(n,a){k(t,n,a),l=!0},p(n,[a]){const s={};a&1&&(s.title=n[0].form.data.name),a&5&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){l||(g(t.$$.fragment,n),l=!0)},o(n){_(t.$$.fragment,n),l=!1},d(n){w(t,n)}}}function un(r,t,l){let n;St(r,Tt,s=>l(1,n=s));let{data:a}=t;return r.$$set=s=>{"data"in s&&l(0,a=s.data)},r.$$.update=()=>{r.$$.dirty&2&&console.log(n)},[a,n]}class jn extends Pt{constructor(t){super(),Nt(this,t,un,on,Ot,{data:0})}}export{jn as component};
