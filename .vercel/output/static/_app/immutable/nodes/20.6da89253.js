import{s as cl,l as qe,i as A,f,k as ml,e as p,a as I,t as q,H as Qt,c as h,b as g,g as k,d as B,z as Xt,o as i,r as ht,h as r,u as ul,j as X,m as vt,p as dl,A as pl,n as Ue,w as hl,D as Yt}from"../chunks/scheduler.60fdcb34.js";import{h as Zt,u as _l}from"../chunks/await_block.df8e621d.js";import{e as yt}from"../chunks/each.e5af29b3.js";import{S as vl,i as gl,t as E,b as V,e as et,c as W,a as J,m as K,d as Q,g as tt}from"../chunks/index.c7b4b125.js";import{p as bl}from"../chunks/stores.b0332cd2.js";import{P as $l}from"../chunks/Page.1107c6af.js";import{g as wl}from"../chunks/navigation.82bf316a.js";import{i as xt}from"../chunks/index.b20a7130.js";/* empty css                                                       */import{L as Il}from"../chunks/like-follow.afc69a09.js";import{C as kl}from"../chunks/comments.9f0b5452.js";import{I as re}from"../chunks/Icon.8be3835b.js";import{e as El}from"../chunks/forms.eea97056.js";function el(a,e,s){const t=a.slice();return t[8]=e[s],t}function tl(a){var t;let e,s;return e=new $l({props:{title:(t=a[3])==null?void 0:t.name,$$slots:{default:[zl]},$$scope:{ctx:a}}}),{c(){W(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){K(e,l,n),s=!0},p(l,n){var d;const u={};n&8&&(u.title=(d=l[3])==null?void 0:d.name),n&2079&&(u.$$scope={dirty:n,ctx:l}),e.$set(u)},i(l){s||(E(e.$$.fragment,l),s=!0)},o(l){V(e.$$.fragment,l),s=!1},d(l){Q(e,l)}}}function ll(a){let e,s="Private";return{c(){e=p("div"),e.textContent=s,this.h()},l(t){e=h(t,"DIV",{class:!0,["data-svelte-h"]:!0}),vt(e)!=="svelte-evmnrb"&&(e.textContent=s),this.h()},h(){i(e,"class","badge badge-error absolute right-2 top-2 shadow-md")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function al(a){let e,s,t;return{c(){e=p("img"),this.h()},l(l){e=h(l,"IMG",{class:!0,width:!0,src:!0,alt:!0}),this.h()},h(){var l,n;i(e,"class","absolute z-10 left-2 top-2 rounded-full shadow-xl"),i(e,"width","60px"),ht(e.src,s=(l=a[3].Venue)==null?void 0:l.burgee)||i(e,"src",s),i(e,"alt",t=(n=a[3].Venue)==null?void 0:n.name)},m(l,n){A(l,e,n)},p(l,n){var u,d;n&8&&!ht(e.src,s=(u=l[3].Venue)==null?void 0:u.burgee)&&i(e,"src",s),n&8&&t!==(t=(d=l[3].Venue)==null?void 0:d.name)&&i(e,"alt",t)},d(l){l&&f(e)}}}function Vl(a){let e,s="In progress";return{c(){e=p("div"),e.textContent=s,this.h()},l(t){e=h(t,"DIV",{class:!0,["data-svelte-h"]:!0}),vt(e)!=="svelte-15q0gyf"&&(e.textContent=s),this.h()},h(){i(e,"class","badge badge-warning shadow-md w-36")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Dl(a){let e,s="complete";return{c(){e=p("div"),e.textContent=s,this.h()},l(t){e=h(t,"DIV",{class:!0,["data-svelte-h"]:!0}),vt(e)!=="svelte-fmzruk"&&(e.textContent=s),this.h()},h(){i(e,"class","badge badge-success shadow-md")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function sl(a){let e,s,t=(a[3].Venue.name?a[3].Venue.name:"No venue provided")+"",l,n,u,d,c=a[3].Venue.website&&rl(a);return{c(){e=p("div"),s=p("a"),l=q(t),u=I(),c&&c.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var m=g(e);s=h(m,"A",{href:!0,class:!0});var _=g(s);l=B(_,t),_.forEach(f),u=k(m),c&&c.l(m),m.forEach(f),this.h()},h(){var v;i(s,"href",n=`/venue/${(v=a[3])==null?void 0:v.venueId}`),i(s,"class","mt-1 text-lg leading-tight text-base-content hover:underline"),i(e,"class","flex items-center gap-4")},m(v,m){A(v,e,m),r(e,s),r(s,l),r(e,u),c&&c.m(e,null),d=!0},p(v,m){var _;(!d||m&8)&&t!==(t=(v[3].Venue.name?v[3].Venue.name:"No venue provided")+"")&&X(l,t),(!d||m&8&&n!==(n=`/venue/${(_=v[3])==null?void 0:_.venueId}`))&&i(s,"href",n),v[3].Venue.website?c?(c.p(v,m),m&8&&E(c,1)):(c=rl(v),c.c(),E(c,1),c.m(e,null)):c&&(tt(),V(c,1,1,()=>{c=null}),et())},i(v){d||(E(c),d=!0)},o(v){V(c),d=!1},d(v){v&&f(e),c&&c.d()}}}function rl(a){let e,s="-",t,l,n,u,d=a[3].Venue.website+"",c,v,m;return n=new re({props:{icon:"gridicons:popout"}}),{c(){e=p("div"),e.textContent=s,t=I(),l=p("a"),W(n.$$.fragment),u=I(),c=q(d),this.h()},l(_){e=h(_,"DIV",{["data-svelte-h"]:!0}),vt(e)!=="svelte-fd8uot"&&(e.textContent=s),t=k(_),l=h(_,"A",{href:!0,class:!0});var w=g(l);J(n.$$.fragment,w),u=k(w),c=B(w,d),w.forEach(f),this.h()},h(){i(l,"href",v=_t(a[3].Venue.website)),i(l,"class","mt-1 line-clamp-1 flex gap-1 items-center text-xs leading-tight text-base-content hover:underline")},m(_,w){A(_,e,w),A(_,t,w),A(_,l,w),K(n,l,null),r(l,u),r(l,c),m=!0},p(_,w){(!m||w&8)&&d!==(d=_[3].Venue.website+"")&&X(c,d),(!m||w&8&&v!==(v=_t(_[3].Venue.website)))&&i(l,"href",v)},i(_){m||(E(n.$$.fragment,_),m=!0)},o(_){V(n.$$.fragment,_),m=!1},d(_){_&&(f(e),f(t),f(l)),Q(n)}}}function nl(a){var v;let e,s,t,l,n=((v=a[3])==null?void 0:v.eventwebsite)+"",u,d,c;return s=new re({props:{icon:"gridicons:popout"}}),{c(){e=p("a"),W(s.$$.fragment),t=I(),l=p("div"),u=q(n),this.h()},l(m){e=h(m,"A",{href:!0,target:!0,class:!0});var _=g(e);J(s.$$.fragment,_),t=k(_),l=h(_,"DIV",{class:!0});var w=g(l);u=B(w,n),w.forEach(f),_.forEach(f),this.h()},h(){var m;i(l,"class","inline line-clamp-1"),i(e,"href",d=_t((m=a[3])==null?void 0:m.eventwebsite)),i(e,"target","_blank"),i(e,"class","flex items-center gap-1 text-secondary font-semibold uppercase")},m(m,_){A(m,e,_),K(s,e,null),r(e,t),r(e,l),r(l,u),c=!0},p(m,_){var w,$;(!c||_&8)&&n!==(n=((w=m[3])==null?void 0:w.eventwebsite)+"")&&X(u,n),(!c||_&8&&d!==(d=_t(($=m[3])==null?void 0:$.eventwebsite)))&&i(e,"href",d)},i(m){c||(E(s.$$.fragment,m),c=!0)},o(m){V(s.$$.fragment,m),c=!1},d(m){m&&f(e),Q(s)}}}function il(a){let e,s,t,l,n,u,d,c,v,m,_,w;return t=new re({props:{class:"text-3xl text-primary",icon:"material-symbols:edit-outline"}}),c=new re({props:{class:"text-3xl text-primary",width:"24",icon:"mdi:trash-outline"}}),{c(){e=p("div"),s=p("button"),W(t.$$.fragment),l=I(),n=p("div"),u=p("form"),d=p("button"),W(c.$$.fragment),this.h()},l($){e=h($,"DIV",{class:!0,"data-tip":!0});var P=g(e);s=h(P,"BUTTON",{class:!0});var L=g(s);J(t.$$.fragment,L),L.forEach(f),P.forEach(f),l=k($),n=h($,"DIV",{class:!0,"data-tip":!0});var N=g(n);u=h(N,"FORM",{method:!0});var G=g(u);d=h(G,"BUTTON",{formaction:!0,class:!0});var Y=g(d);J(c.$$.fragment,Y),Y.forEach(f),G.forEach(f),N.forEach(f),this.h()},h(){i(s,"class","btn btn-ghost p-1"),i(e,"class","tooltip tooltip-top"),i(e,"data-tip","Edit Event"),i(d,"formaction",v="?/deleteEvent&itemId="+a[3].id+"&from="+a[4].url.pathname+"&"+a[4].url.searchParams.toString()),i(d,"class","btn btn-ghost p-1"),i(u,"method","post"),i(n,"class","tooltip tooltip-top"),i(n,"data-tip","Delete Event")},m($,P){A($,e,P),r(e,s),K(t,s,null),A($,l,P),A($,n,P),r(n,u),r(u,d),K(c,d,null),m=!0,_||(w=[ul(s,"click",a[6]),dl(El.call(null,u))],_=!0)},p($,P){(!m||P&24&&v!==(v="?/deleteEvent&itemId="+$[3].id+"&from="+$[4].url.pathname+"&"+$[4].url.searchParams.toString()))&&i(d,"formaction",v)},i($){m||(E(t.$$.fragment,$),E(c.$$.fragment,$),m=!0)},o($){V(t.$$.fragment,$),V(c.$$.fragment,$),m=!1},d($){$&&(f(e),f(l),f(n)),Q(t),Q(c),_=!1,pl(w)}}}function ol(a){let e,s,t={ctx:a,current:null,token:null,hasCatch:!1,pending:Sl,then:Cl,catch:Nl,value:7};return Zt(s=a[0].await.races,t),{c(){e=qe(),t.block.c()},l(l){e=qe(),t.block.l(l)},m(l,n){A(l,e,n),t.block.m(l,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(l,n){a=l,t.ctx=a,n&1&&s!==(s=a[0].await.races)&&Zt(s,t)||_l(t,a,n)},d(l){l&&f(e),t.block.d(l),t.token=null,t=null}}}function Nl(a){return{c:Ue,l:Ue,m:Ue,p:Ue,d:Ue}}function Cl(a){let e,s=yt(a[7]),t=[];for(let l=0;l<s.length;l+=1)t[l]=fl(el(a,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=qe()},l(l){for(let n=0;n<t.length;n+=1)t[n].l(l);e=qe()},m(l,n){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,n);A(l,e,n)},p(l,n){if(n&1){s=yt(l[7]);let u;for(u=0;u<s.length;u+=1){const d=el(l,s,u);t[u]?t[u].p(d,n):(t[u]=fl(d),t[u].c(),t[u].m(e.parentNode,e))}for(;u<t.length;u+=1)t[u].d(1);t.length=s.length}},d(l){l&&f(e),hl(t,l)}}}function fl(a){let e,s,t,l,n=a[8].name+"",u,d,c,v,m=(a[8].date??"")+"",_,w,$=a[8].time?`- ${a[8].time}`:"",P,L,N,G=Number(a[8].sailed)?"Sailed":"Unsailed",Y,ge,Z;return{c(){e=p("a"),s=p("div"),t=p("div"),l=p("h1"),u=q(n),d=I(),c=p("div"),v=p("div"),_=q(m),w=I(),P=q($),L=I(),N=p("div"),Y=q(G),ge=I(),this.h()},l(j){e=h(j,"A",{href:!0});var D=g(e);s=h(D,"DIV",{class:!0});var te=g(s);t=h(te,"DIV",{class:!0});var be=g(t);l=h(be,"H1",{class:!0});var je=g(l);u=B(je,n),je.forEach(f),be.forEach(f),d=k(te),c=h(te,"DIV",{class:!0});var y=g(c);v=h(y,"DIV",{class:!0});var oe=g(v);_=B(oe,m),w=k(oe),P=B(oe,$),oe.forEach(f),L=k(y),N=h(y,"DIV",{class:!0});var O=g(N);Y=B(O,G),O.forEach(f),y.forEach(f),te.forEach(f),ge=k(D),D.forEach(f),this.h()},h(){i(l,"class","text-xl font-semibold"),i(t,"class","w-full pt-1"),i(v,"class","text-xs"),i(N,"class","badge badge-success shadow-md"),Yt(N,"badge-error",!Number(a[8].sailed)),i(c,"class","flex justify-between pb-2"),i(s,"class","p-2 px-8 border-b-4 border-l-4 rounded-lg border-base-200 m-4"),i(e,"href",Z="/results/"+a[8].id)},m(j,D){A(j,e,D),r(e,s),r(s,t),r(t,l),r(l,u),r(s,d),r(s,c),r(c,v),r(v,_),r(v,w),r(v,P),r(c,L),r(c,N),r(N,Y),r(e,ge)},p(j,D){D&1&&n!==(n=j[8].name+"")&&X(u,n),D&1&&m!==(m=(j[8].date??"")+"")&&X(_,m),D&1&&$!==($=j[8].time?`- ${j[8].time}`:"")&&X(P,$),D&1&&G!==(G=Number(j[8].sailed)?"Sailed":"Unsailed")&&X(Y,G),D&1&&Yt(N,"badge-error",!Number(j[8].sailed)),D&1&&Z!==(Z="/results/"+j[8].id)&&i(e,"href",Z)},d(j){j&&f(e)}}}function Sl(a){let e;return{c(){e=p("progress"),this.h()},l(s){e=h(s,"PROGRESS",{class:!0}),g(e).forEach(f),this.h()},h(){i(e,"class","progress progress-accent px-4 w-full")},m(s,t){A(s,e,t)},p:Ue,d(s){s&&f(e)}}}function zl(a){var Pt,jt,Ft,Rt,Tt,Ht,Lt,Ut,qt,Bt;let e,s,t,l,n=xt((Pt=a[3].Venue)==null?void 0:Pt.burgee),u,d,c,v,m,_,w,$,P,L,N,G=a[3]._count.Likes+"",Y,ge,Z,j,D,te=a[3]._count.Follows+"",be,je,y,oe,O,$e,gt,Fe,Re,Be,lt=((jt=a[3])==null?void 0:jt.name)+"",bt,at,Te,Ge,st=((Ft=a[3])!=null&&Ft.description?(Rt=a[3])==null?void 0:Rt.description:"No description provided")+"",$t,x,fe,Me=((Tt=a[3].Organization)==null?void 0:Tt.name)+"",rt,nt,wt,it,ue,ce,We=a[3]._count.Likes+"",ot,It,we,kt,me,Je=a[3]._count.Follows+"",ft,Et,Ie,Vt,de,ke,Ke=a[1]?"^ Hide Races":"⌄ Show Races",ut,Dt,le,Ee,pe,Ve,ct,Nt,De,he,Ne,mt,Ct,St,dt,He,_e,F,zt,Ot,U=!a[3].public&&ll(),T=n&&al(a);$=new Il({props:{item:a[3],userId:(Ht=a[2])==null?void 0:Ht.userId,type:"event"}}),Z=new re({props:{class:"px-1 text-lg",icon:"mdi:thumbs-up"}}),y=new re({props:{class:"px-1 text-lg",icon:"mdi:bell-ring"}});function At(o,b){return o[3].complete?Dl:Vl}let pt=At(a),ne=pt(a),C=((Lt=a[3])==null?void 0:Lt.Venue)&&sl(a),S=((Ut=a[3])==null?void 0:Ut.eventwebsite)&&nl(a);we=new re({props:{class:"px-1 text-lg",icon:"mdi:thumbs-up"}}),Ie=new re({props:{class:"px-1 text-lg",icon:"mdi:bell-ring"}}),Ve=new re({props:{class:"text-3xl text-primary",icon:"material-symbols:groups-outline-rounded"}}),Ne=new re({props:{class:"text-3xl text-primary",icon:"material-symbols:box-edit-outline"}});let z=((qt=a[0].user)==null?void 0:qt.userId)===((Bt=a[3])==null?void 0:Bt.publisherId)&&il(a),H=a[1]&&ol(a);return _e=new kl({props:{type:"event",item:a[3],comments:a[0].comments,user:a[2],commentForm:a[0].commentForm}}),{c(){e=p("div"),s=p("div"),t=p("div"),U&&U.c(),l=I(),T&&T.c(),u=I(),d=p("img"),m=I(),_=p("div"),w=p("div"),W($.$$.fragment),P=I(),L=p("div"),N=p("span"),Y=q(G),ge=I(),W(Z.$$.fragment),j=q(`\r
								/\r
								`),D=p("span"),be=q(te),je=I(),W(y.$$.fragment),oe=I(),O=p("div"),$e=p("div"),ne.c(),gt=I(),Fe=p("div"),Re=p("div"),Be=new Qt(!1),bt=I(),C&&C.c(),at=I(),Te=p("p"),Ge=new Qt(!1),$t=I(),x=p("div"),fe=p("a"),rt=q(Me),wt=I(),S&&S.c(),it=I(),ue=p("div"),ce=p("span"),ot=q(We),It=I(),W(we.$$.fragment),kt=q(`\r
							/\r
							`),me=p("span"),ft=q(Je),Et=I(),W(Ie.$$.fragment),Vt=I(),de=p("div"),ke=p("button"),ut=q(Ke),Dt=I(),le=p("div"),Ee=p("div"),pe=p("a"),W(Ve.$$.fragment),Nt=I(),De=p("div"),he=p("a"),W(Ne.$$.fragment),Ct=I(),z&&z.c(),St=I(),H&&H.c(),dt=I(),He=p("div"),W(_e.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var b=g(e);s=h(b,"DIV",{class:!0});var ee=g(s);t=h(ee,"DIV",{class:!0});var R=g(t);U&&U.l(R),l=k(R),T&&T.l(R),u=k(R),d=h(R,"IMG",{class:!0,src:!0,alt:!0}),m=k(R),_=h(R,"DIV",{class:!0});var ve=g(_);w=h(ve,"DIV",{});var ae=g(w);J($.$$.fragment,ae),P=k(ae),L=h(ae,"DIV",{class:!0});var se=g(L);N=h(se,"SPAN",{class:!0});var Ce=g(N);Y=B(Ce,G),ge=k(Ce),J(Z.$$.fragment,Ce),Ce.forEach(f),j=B(se,`\r
								/\r
								`),D=h(se,"SPAN",{class:!0});var Se=g(D);be=B(Se,te),je=k(Se),J(y.$$.fragment,Se),Se.forEach(f),se.forEach(f),ae.forEach(f),ve.forEach(f),R.forEach(f),oe=k(ee),O=h(ee,"DIV",{class:!0});var M=g(O);$e=h(M,"DIV",{class:!0});var Qe=g($e);ne.l(Qe),Qe.forEach(f),gt=k(M),Fe=h(M,"DIV",{class:!0});var Xe=g(Fe);Re=h(Xe,"DIV",{class:!0});var Ye=g(Re);Be=Xt(Ye,!1),Ye.forEach(f),Xe.forEach(f),bt=k(M),C&&C.l(M),at=k(M),Te=h(M,"P",{class:!0});var Ze=g(Te);Ge=Xt(Ze,!1),Ze.forEach(f),$t=k(M),x=h(M,"DIV",{class:!0});var ie=g(x);fe=h(ie,"A",{href:!0,class:!0});var ye=g(fe);rt=B(ye,Me),ye.forEach(f),wt=k(ie),S&&S.l(ie),it=k(ie),ue=h(ie,"DIV",{class:!0});var ze=g(ue);ce=h(ze,"SPAN",{class:!0});var Oe=g(ce);ot=B(Oe,We),It=k(Oe),J(we.$$.fragment,Oe),Oe.forEach(f),kt=B(ze,`\r
							/\r
							`),me=h(ze,"SPAN",{class:!0});var Ae=g(me);ft=B(Ae,Je),Et=k(Ae),J(Ie.$$.fragment,Ae),Ae.forEach(f),ze.forEach(f),ie.forEach(f),M.forEach(f),ee.forEach(f),Vt=k(b),de=h(b,"DIV",{class:!0});var Pe=g(de);ke=h(Pe,"BUTTON",{class:!0});var xe=g(ke);ut=B(xe,Ke),xe.forEach(f),Dt=k(Pe),le=h(Pe,"DIV",{});var Le=g(le);Ee=h(Le,"DIV",{class:!0,"data-tip":!0});var Gt=g(Ee);pe=h(Gt,"A",{href:!0,class:!0});var Mt=g(pe);J(Ve.$$.fragment,Mt),Mt.forEach(f),Gt.forEach(f),Nt=k(Le),De=h(Le,"DIV",{class:!0,"data-tip":!0});var Wt=g(De);he=h(Wt,"A",{href:!0,class:!0});var Jt=g(he);J(Ne.$$.fragment,Jt),Jt.forEach(f),Wt.forEach(f),Ct=k(Le),z&&z.l(Le),Le.forEach(f),Pe.forEach(f),St=k(b),H&&H.l(b),dt=k(b),He=h(b,"DIV",{class:!0});var Kt=g(He);J(_e.$$.fragment,Kt),Kt.forEach(f),b.forEach(f),this.h()},h(){var o,b,ee,R,ve,ae,se;i(d,"class","h-48 w-full object-cover md:h-full md:w-48 rounded-br-full"),ht(d.src,c=(o=a[3])!=null&&o.titleImage?(b=a[3])==null?void 0:b.titleImage:(ee=a[3].Organization)!=null&&ee.titleImage?a[3].Organization.titleImage:"https://picsum.photos/200/400")||i(d,"src",c),i(d,"alt",v="Title for "+((R=a[3])==null?void 0:R.name)),i(N,"class","pr-1 flex items-center text-xs"),i(D,"class","pr-2 pl-2 flex items-center text-xs"),i(L,"class","flex justify-end text-sm"),i(_,"class","absolute w-full flex justify-end bottom-0 right-4 p-2"),i(t,"class","md:shrink-0 flex relative"),i($e,"class","flex justify-end"),Be.a=null,i(Re,"class","uppercase tracking-wide text-xl text-accent font-semibold line-clamp-1"),i(Fe,"class","flex justify-between w-full"),Ge.a=null,i(Te,"class","py-2 opacity-70"),i(fe,"href",nt="/organization/"+((ve=a[3].Organization)==null?void 0:ve.id)),i(fe,"class","underline"),i(ce,"class","pr-1 flex items-center text-xs"),i(me,"class","pr-2 pl-2 flex items-center text-xs"),i(ue,"class","flex justify-end text-sm"),i(x,"class",""),i(O,"class","pt-2 px-8 w-full"),i(s,"class","md:flex"),i(ke,"class","btn btn-ghost btn-xs"),i(pe,"href",ct="/comps/"+((ae=a[3])==null?void 0:ae.id)),i(pe,"class","btn btn-ghost p-1"),i(Ee,"class","tooltip tooltip-top"),i(Ee,"data-tip","View Competitors"),i(he,"href",mt="/races/"+((se=a[3])==null?void 0:se.id)),i(he,"class","btn btn-ghost p-1"),i(De,"class","tooltip tooltip-top"),i(De,"data-tip","Edit Races"),i(de,"class","px-4 pb-4 flex justify-between items-center"),i(He,"class","p-4 pb-12"),i(e,"class","mt-18 mb-8 max-w-md mx-auto bg-base-100 rounded-xl shadow-md overflow-hidden md:max-w-2xl")},m(o,b){A(o,e,b),r(e,s),r(s,t),U&&U.m(t,null),r(t,l),T&&T.m(t,null),r(t,u),r(t,d),r(t,m),r(t,_),r(_,w),K($,w,null),r(w,P),r(w,L),r(L,N),r(N,Y),r(N,ge),K(Z,N,null),r(L,j),r(L,D),r(D,be),r(D,je),K(y,D,null),r(s,oe),r(s,O),r(O,$e),ne.m($e,null),r(O,gt),r(O,Fe),r(Fe,Re),Be.m(lt,Re),r(O,bt),C&&C.m(O,null),r(O,at),r(O,Te),Ge.m(st,Te),r(O,$t),r(O,x),r(x,fe),r(fe,rt),r(x,wt),S&&S.m(x,null),r(x,it),r(x,ue),r(ue,ce),r(ce,ot),r(ce,It),K(we,ce,null),r(ue,kt),r(ue,me),r(me,ft),r(me,Et),K(Ie,me,null),r(e,Vt),r(e,de),r(de,ke),r(ke,ut),r(de,Dt),r(de,le),r(le,Ee),r(Ee,pe),K(Ve,pe,null),r(le,Nt),r(le,De),r(De,he),K(Ne,he,null),r(le,Ct),z&&z.m(le,null),r(e,St),H&&H.m(e,null),r(e,dt),r(e,He),K(_e,He,null),F=!0,zt||(Ot=ul(ke,"click",a[5]),zt=!0)},p(o,b){var ve,ae,se,Ce,Se,M,Qe,Xe,Ye,Ze,ie,ye,ze,Oe,Ae,Pe,xe;o[3].public?U&&(U.d(1),U=null):U||(U=ll(),U.c(),U.m(t,l)),b&8&&(n=xt((ve=o[3].Venue)==null?void 0:ve.burgee)),n?T?T.p(o,b):(T=al(o),T.c(),T.m(t,u)):T&&(T.d(1),T=null),(!F||b&8&&!ht(d.src,c=(ae=o[3])!=null&&ae.titleImage?(se=o[3])==null?void 0:se.titleImage:(Ce=o[3].Organization)!=null&&Ce.titleImage?o[3].Organization.titleImage:"https://picsum.photos/200/400"))&&i(d,"src",c),(!F||b&8&&v!==(v="Title for "+((Se=o[3])==null?void 0:Se.name)))&&i(d,"alt",v);const ee={};b&8&&(ee.item=o[3]),b&4&&(ee.userId=(M=o[2])==null?void 0:M.userId),$.$set(ee),(!F||b&8)&&G!==(G=o[3]._count.Likes+"")&&X(Y,G),(!F||b&8)&&te!==(te=o[3]._count.Follows+"")&&X(be,te),pt!==(pt=At(o))&&(ne.d(1),ne=pt(o),ne&&(ne.c(),ne.m($e,null))),(!F||b&8)&&lt!==(lt=((Qe=o[3])==null?void 0:Qe.name)+"")&&Be.p(lt),(Xe=o[3])!=null&&Xe.Venue?C?(C.p(o,b),b&8&&E(C,1)):(C=sl(o),C.c(),E(C,1),C.m(O,at)):C&&(tt(),V(C,1,1,()=>{C=null}),et()),(!F||b&8)&&st!==(st=((Ye=o[3])!=null&&Ye.description?(Ze=o[3])==null?void 0:Ze.description:"No description provided")+"")&&Ge.p(st),(!F||b&8)&&Me!==(Me=((ie=o[3].Organization)==null?void 0:ie.name)+"")&&X(rt,Me),(!F||b&8&&nt!==(nt="/organization/"+((ye=o[3].Organization)==null?void 0:ye.id)))&&i(fe,"href",nt),(ze=o[3])!=null&&ze.eventwebsite?S?(S.p(o,b),b&8&&E(S,1)):(S=nl(o),S.c(),E(S,1),S.m(x,it)):S&&(tt(),V(S,1,1,()=>{S=null}),et()),(!F||b&8)&&We!==(We=o[3]._count.Likes+"")&&X(ot,We),(!F||b&8)&&Je!==(Je=o[3]._count.Follows+"")&&X(ft,Je),(!F||b&2)&&Ke!==(Ke=o[1]?"^ Hide Races":"⌄ Show Races")&&X(ut,Ke),(!F||b&8&&ct!==(ct="/comps/"+((Oe=o[3])==null?void 0:Oe.id)))&&i(pe,"href",ct),(!F||b&8&&mt!==(mt="/races/"+((Ae=o[3])==null?void 0:Ae.id)))&&i(he,"href",mt),((Pe=o[0].user)==null?void 0:Pe.userId)===((xe=o[3])==null?void 0:xe.publisherId)?z?(z.p(o,b),b&9&&E(z,1)):(z=il(o),z.c(),E(z,1),z.m(le,null)):z&&(tt(),V(z,1,1,()=>{z=null}),et()),o[1]?H?H.p(o,b):(H=ol(o),H.c(),H.m(e,dt)):H&&(H.d(1),H=null);const R={};b&8&&(R.item=o[3]),b&1&&(R.comments=o[0].comments),b&4&&(R.user=o[2]),b&1&&(R.commentForm=o[0].commentForm),_e.$set(R)},i(o){F||(E($.$$.fragment,o),E(Z.$$.fragment,o),E(y.$$.fragment,o),E(C),E(S),E(we.$$.fragment,o),E(Ie.$$.fragment,o),E(Ve.$$.fragment,o),E(Ne.$$.fragment,o),E(z),E(_e.$$.fragment,o),F=!0)},o(o){V($.$$.fragment,o),V(Z.$$.fragment,o),V(y.$$.fragment,o),V(C),V(S),V(we.$$.fragment,o),V(Ie.$$.fragment,o),V(Ve.$$.fragment,o),V(Ne.$$.fragment,o),V(z),V(_e.$$.fragment,o),F=!1},d(o){o&&f(e),U&&U.d(),T&&T.d(),Q($),Q(Z),Q(y),ne.d(),C&&C.d(),S&&S.d(),Q(we),Q(Ie),Q(Ve),Q(Ne),z&&z.d(),H&&H.d(),Q(_e),zt=!1,Ot()}}}function Ol(a){let e,s,t=a[0]&&tl(a);return{c(){t&&t.c(),e=qe()},l(l){t&&t.l(l),e=qe()},m(l,n){t&&t.m(l,n),A(l,e,n),s=!0},p(l,[n]){l[0]?t?(t.p(l,n),n&1&&E(t,1)):(t=tl(l),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(tt(),V(t,1,1,()=>{t=null}),et())},i(l){s||(E(t),s=!0)},o(l){V(t),s=!1},d(l){l&&f(e),t&&t.d(l)}}}function _t(a){return a?a&&a.startsWith("http://")||a.startsWith("https://")?a:`http://${a}`:null}function Al(a,e,s){let t,l,n;ml(a,bl,m=>s(4,n=m));let{data:u}=e,d=!0;const c=()=>{s(1,d=!d)},v=()=>{wl(`/events/${t==null?void 0:t.id}/edit?from=${n.url.pathname}`,{state:{info:"this is info"}})};return a.$$set=m=>{"data"in m&&s(0,u=m.data)},a.$$.update=()=>{a.$$.dirty&1&&s(3,{event:t,user:l}=u,t,(s(2,l),s(0,u)))},[u,d,l,t,n,c,v]}class Jl extends vl{constructor(e){super(),gl(this,e,Al,Ol,cl,{data:0})}}export{Jl as component};
