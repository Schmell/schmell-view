import{s as Y,l as T,i as g,f as c,w as Z,a as S,e as v,t as A,g as R,c as b,b as I,d as N,o as d,D as y,h,j,m as Q,n as W}from"../chunks/scheduler.60fdcb34.js";import{S as x,i as ee,c as B,a as U,m as q,t as k,b as V,d as F,g as z,e as G}from"../chunks/index.c7b4b125.js";import{e as J}from"../chunks/each.e5af29b3.js";import{P as te}from"../chunks/Page.1107c6af.js";import{I as le}from"../chunks/ItemCard.b8ad2ed8.js";import{I as X}from"../chunks/Icon.8be3835b.js";function K(o,t,r){const e=o.slice();return e[3]=t[r],e}function L(o){let t,r,e=J(o[1].Races),l=[];for(let a=0;a<e.length;a+=1)l[a]=O(K(o,e,a));const n=a=>V(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=T()},l(a){for(let s=0;s<l.length;s+=1)l[s].l(a);t=T()},m(a,s){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,s);g(a,t,s),r=!0},p(a,s){if(s&7){e=J(a[1].Races);let i;for(i=0;i<e.length;i+=1){const f=K(a,e,i);l[i]?(l[i].p(f,s),k(l[i],1)):(l[i]=O(f),l[i].c(),k(l[i],1),l[i].m(t.parentNode,t))}for(z(),i=e.length;i<l.length;i+=1)n(i);G()}},i(a){if(!r){for(let s=0;s<e.length;s+=1)k(l[s]);r=!0}},o(a){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)V(l[s]);r=!1},d(a){a&&c(t),Z(l,a)}}}function re(o){let t,r="I";return{c(){t=v("div"),t.textContent=r,this.h()},l(e){t=b(e,"DIV",{class:!0,["data-svelte-h"]:!0}),Q(t)!=="svelte-1j60o6r"&&(t.textContent=r),this.h()},h(){d(t,"class","opacity-0 select-none")},m(e,l){g(e,t,l)},p:W,d(e){e&&c(t)}}}function se(o){let t,r="Notes:",e,l,n=o[3].notes+"",a;return{c(){t=v("div"),t.textContent=r,e=S(),l=v("div"),a=A(n),this.h()},l(s){t=b(s,"DIV",{class:!0,["data-svelte-h"]:!0}),Q(t)!=="svelte-1h4idve"&&(t.textContent=r),e=R(s),l=b(s,"DIV",{class:!0});var i=I(l);a=N(i,n),i.forEach(c),this.h()},h(){d(t,"class","text-xs text-primary-focus underline"),d(l,"class","px-2 pb-4")},m(s,i){g(s,t,i),g(s,e,i),g(s,l,i),h(l,a)},p(s,i){i&2&&n!==(n=s[3].notes+"")&&j(a,n)},d(s){s&&(c(t),c(e),c(l))}}}function ae(o){let t,r,e,l=o[3].sailed==="1"?"Complete":"Un-Sailed",n,a,s,i=(o[3].date?o[3].date:"TBA")+"",f,w,D=(o[3].time?o[3].time:"")+"",m,p;function C(u,_){return u[3].notes?se:re}let E=C(o),$=E(o);return{c(){$.c(),t=S(),r=v("div"),e=v("div"),n=A(l),a=S(),s=v("div"),f=A(i),w=A(" - "),m=A(D),p=S(),this.h()},l(u){$.l(u),t=R(u),r=b(u,"DIV",{class:!0});var _=I(r);e=b(_,"DIV",{class:!0});var H=I(e);n=N(H,l),H.forEach(c),a=R(_),s=b(_,"DIV",{class:!0});var P=I(s);f=N(P,i),w=N(P," - "),m=N(P,D),P.forEach(c),_.forEach(c),p=R(u),this.h()},h(){d(e,"class","badge"),y(e,"badge-success",o[3].sailed==="1"),y(e,"text-success-content",o[3].sailed==="1"),y(e,"badge-error",o[3].sailed==="0"),y(e,"text-error-content",o[3].sailed==="0"),d(s,"class","p-2 text-sm pr-6"),d(r,"class","flex justify-between items-center")},m(u,_){$.m(u,_),g(u,t,_),g(u,r,_),h(r,e),h(e,n),h(r,a),h(r,s),h(s,f),h(s,w),h(s,m),g(u,p,_)},p(u,_){E===(E=C(u))&&$?$.p(u,_):($.d(1),$=E(u),$&&($.c(),$.m(t.parentNode,t))),_&2&&l!==(l=u[3].sailed==="1"?"Complete":"Un-Sailed")&&j(n,l),_&2&&y(e,"badge-success",u[3].sailed==="1"),_&2&&y(e,"text-success-content",u[3].sailed==="1"),_&2&&y(e,"badge-error",u[3].sailed==="0"),_&2&&y(e,"text-error-content",u[3].sailed==="0"),_&2&&i!==(i=(u[3].date?u[3].date:"TBA")+"")&&j(f,i),_&2&&D!==(D=(u[3].time?u[3].time:"")+"")&&j(m,D)},d(u){u&&(c(t),c(r),c(p)),$.d(u)}}}function ie(o){let t,r,e,l,n;return{c(){t=v("div"),r=v("a"),e=A("View Results"),n=S(),this.h()},l(a){t=b(a,"DIV",{slot:!0});var s=I(t);r=b(s,"A",{href:!0,class:!0});var i=I(r);e=N(i,"View Results"),i.forEach(c),n=R(s),s.forEach(c),this.h()},h(){d(r,"href",l="/results/"+o[3].id),d(r,"class","btn btn-accent btn-xs"),d(t,"slot","top-right")},m(a,s){g(a,t,s),h(t,r),h(r,e),h(t,n)},p(a,s){s&2&&l!==(l="/results/"+a[3].id)&&d(r,"href",l)},d(a){a&&c(t)}}}function M(o){let t,r,e,l,n;return e=new X({props:{icon:"material-symbols:edit-outline",width:"24"}}),{c(){t=v("div"),r=v("a"),B(e.$$.fragment),this.h()},l(a){t=b(a,"DIV",{class:!0,"data-tip":!0});var s=I(t);r=b(s,"A",{href:!0,class:!0});var i=I(r);U(e.$$.fragment,i),i.forEach(c),s.forEach(c),this.h()},h(){var a;d(r,"href",l="/event/"+((a=o[1])==null?void 0:a.id)),d(r,"class","btn btn-ghost"),d(t,"class","tooltip tooltip-top"),d(t,"data-tip","Race Edit")},m(a,s){g(a,t,s),h(t,r),q(e,r,null),n=!0},p(a,s){var i;(!n||s&2&&l!==(l="/event/"+((i=a[1])==null?void 0:i.id)))&&d(r,"href",l)},i(a){n||(k(e.$$.fragment,a),n=!0)},o(a){V(e.$$.fragment,a),n=!1},d(a){a&&c(t),F(e)}}}function oe(o){var w,D;let t,r,e,l,n,a,s,i;l=new X({props:{icon:"material-symbols:groups-outline-rounded",width:"30"}});let f=((w=o[0].user)==null?void 0:w.userId)===((D=o[1])==null?void 0:D.publisherId)&&M(o);return{c(){t=v("div"),r=v("div"),e=v("a"),B(l.$$.fragment),a=S(),f&&f.c(),s=S(),this.h()},l(m){t=b(m,"DIV",{slot:!0,class:!0});var p=I(t);r=b(p,"DIV",{class:!0,"data-tip":!0});var C=I(r);e=b(C,"A",{href:!0,class:!0});var E=I(e);U(l.$$.fragment,E),E.forEach(c),C.forEach(c),a=R(p),f&&f.l(p),s=R(p),p.forEach(c),this.h()},h(){var m;d(e,"href",n="/comps/"+((m=o[1])==null?void 0:m.id)),d(e,"class","btn btn-ghost p-1"),d(r,"class","tooltip tooltip-top"),d(r,"data-tip","View Competitors"),d(t,"slot","bottom-right"),d(t,"class","flex justify-end text-primary")},m(m,p){g(m,t,p),h(t,r),h(r,e),q(l,e,null),h(t,a),f&&f.m(t,null),h(t,s),i=!0},p(m,p){var C,E,$;(!i||p&2&&n!==(n="/comps/"+((C=m[1])==null?void 0:C.id)))&&d(e,"href",n),((E=m[0].user)==null?void 0:E.userId)===(($=m[1])==null?void 0:$.publisherId)?f?(f.p(m,p),p&3&&k(f,1)):(f=M(m),f.c(),k(f,1),f.m(t,s)):f&&(z(),V(f,1,1,()=>{f=null}),G())},i(m){i||(k(l.$$.fragment,m),k(f),i=!0)},o(m){V(l.$$.fragment,m),V(f),i=!1},d(m){m&&c(t),F(l),f&&f.d()}}}function ne(o){let t;return{c(){t=A("No time provided")},l(r){t=N(r,"No time provided")},m(r,e){g(r,t,e)},p:W,d(r){r&&c(t)}}}function fe(o){let t=o[2](o[3].createdAt)+"",r;return{c(){r=A(t)},l(e){r=N(e,t)},m(e,l){g(e,r,l)},p(e,l){l&2&&t!==(t=e[2](e[3].createdAt)+"")&&j(r,t)},d(e){e&&c(r)}}}function ce(o){let t,r,e,l;function n(i,f){return i[3].createdAt?fe:ne}let a=n(o),s=a(o);return{c(){t=v("div"),r=v("div"),e=v("span"),s.c(),l=S(),this.h()},l(i){t=b(i,"DIV",{slot:!0,class:!0});var f=I(t);r=b(f,"DIV",{class:!0});var w=I(r);e=b(w,"SPAN",{class:!0});var D=I(e);s.l(D),D.forEach(c),w.forEach(c),l=R(f),f.forEach(c),this.h()},h(){d(e,"class","px-2 text-xs"),d(r,"class","absolute"),d(t,"slot","bottom-left"),d(t,"class","relative")},m(i,f){g(i,t,f),h(t,r),h(r,e),s.m(e,null),h(t,l)},p(i,f){a===(a=n(i))&&s?s.p(i,f):(s.d(1),s=a(i),s&&(s.c(),s.m(e,null)))},d(i){i&&c(t),s.d()}}}function O(o){let t,r;return t=new le({props:{title:o[3].name,href:"",$$slots:{"bottom-left":[ce],"bottom-right":[oe],"top-right":[ie],default:[ae]},$$scope:{ctx:o}}}),{c(){B(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,l){q(t,e,l),r=!0},p(e,l){const n={};l&2&&(n.title=e[3].name),l&67&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){V(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function ue(o){let t,r,e=o[0]&&L(o);return{c(){e&&e.c(),t=T()},l(l){e&&e.l(l),t=T()},m(l,n){e&&e.m(l,n),g(l,t,n),r=!0},p(l,n){l[0]?e?(e.p(l,n),n&1&&k(e,1)):(e=L(l),e.c(),k(e,1),e.m(t.parentNode,t)):e&&(z(),V(e,1,1,()=>{e=null}),G())},i(l){r||(k(e),r=!0)},o(l){V(e),r=!1},d(l){l&&c(t),e&&e.d(l)}}}function de(o){var e;let t,r;return t=new te({props:{title:(e=o[1])==null?void 0:e.name,$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){B(t.$$.fragment)},l(l){U(t.$$.fragment,l)},m(l,n){q(t,l,n),r=!0},p(l,[n]){var s;const a={};n&2&&(a.title=(s=l[1])==null?void 0:s.name),n&67&&(a.$$scope={dirty:n,ctx:l}),t.$set(a)},i(l){r||(k(t.$$.fragment,l),r=!0)},o(l){V(t.$$.fragment,l),r=!1},d(l){F(t,l)}}}function me(o,t,r){let e,{data:l}=t;const n=a=>{try{return new Intl.DateTimeFormat(void 0,{dateStyle:"short",timeStyle:"short"}).format(a)}catch(s){console.error("error: ",s)}};return o.$$set=a=>{"data"in a&&r(0,l=a.data)},o.$$.update=()=>{o.$$.dirty&1&&r(1,{event:e}=l,e),o.$$.dirty&1&&console.log("data: ",l)},[l,e,n]}class $e extends x{constructor(t){super(),ee(this,t,me,de,Y,{data:0})}}export{$e as component};
