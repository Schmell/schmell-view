import{s as At,k as Ct,l as ze,i as fe,f as d,n as Q,e as _,a as O,t as ie,H as _t,c as h,b as v,g as S,d as oe,z as ht,o as u,r as vt,h as r,u as Ot,j as $e,w as St,D as gt,m as Nt}from"../chunks/scheduler.60fdcb34.js";import{h as $t,u as jt}from"../chunks/await_block.df8e621d.js";import{e as bt}from"../chunks/each.e5af29b3.js";import{S as Ht,i as Lt,c as W,a as X,m as Y,t as g,b as k,d as Z,g as De,e as Ve}from"../chunks/index.c7b4b125.js";import{p as Ft}from"../chunks/stores.b0332cd2.js";import{P as Pt}from"../chunks/Page.1107c6af.js";import"../chunks/paths.9f848c40.js";import{g as kt}from"../chunks/index.b20a7130.js";/* empty css                                                       */import{L as Tt}from"../chunks/like-follow.afc69a09.js";import{C as qt}from"../chunks/comments.9f0b5452.js";import{I as be}from"../chunks/Icon.8be3835b.js";function wt(s,t,a){const e=s.slice();return e[5]=t[a],e}function Bt(s){return{c:Q,l:Q,m:Q,p:Q,i:Q,o:Q,d:Q}}function Gt(s){let t,a,e=s[4]&&Et(s);return{c(){e&&e.c(),t=ze()},l(l){e&&e.l(l),t=ze()},m(l,o){e&&e.m(l,o),fe(l,t,o),a=!0},p(l,o){l[4]?e?(e.p(l,o),o&1&&g(e,1)):(e=Et(l),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(De(),k(e,1,1,()=>{e=null}),Ve())},i(l){a||(g(e),a=!0)},o(l){k(e),a=!1},d(l){l&&d(t),e&&e.d(l)}}}function Et(s){var xe,et,tt,lt,at,st,rt,nt,it,ot,ft,ct;let t,a,e,l,o,m,n,f,$,c,w,A,E,C=((xe=s[4])==null?void 0:xe._count.Likes)+"",N,ce,T,q,G,L=((et=s[4])==null?void 0:et._count.Follows)+"",ue,ke,b,j,z,B,y,M,me=((tt=s[4])==null?void 0:tt.name)+"",we,Ee,Ae,qe=((lt=s[4])!=null&&lt.description?(at=s[4])==null?void 0:at.description:"No description provided")+"",Je,x,te,Ce=((rt=(st=s[4])==null?void 0:st.Organization)==null?void 0:rt.name)+"",Be,Ge,Ke,Qe,le,de,Oe=s[1]?"^ Hide Events":"⌄ Show Events",Me,We,ae,pe,se,_e,Re,Xe,Ye,Ue,Ie,re,H,Ze,ye;c=new Tt({props:{item:s[4],type:"series",userId:(nt=s[0].user)==null?void 0:nt.userId}}),T=new be({props:{class:"px-1 text-lg",icon:"mdi:thumbs-up"}}),b=new be({props:{class:"px-1 text-lg",icon:"mdi:bell-ring"}});let I=((it=s[4])==null?void 0:it.website)&&It(s);_e=new be({props:{class:"text-3xl text-primary",icon:"material-symbols:box-edit-outline"}});let D=((ot=s[0].user)==null?void 0:ot.userId)===((ft=s[4])==null?void 0:ft.publisherId)&&Dt(s),V=s[1]&&Vt(s);return re=new qt({props:{item:s[4],type:"series",user:s[0].user,commentForm:s[0].commentForm,comments:(ct=s[4])==null?void 0:ct.Comments}}),{c(){t=_("div"),a=_("div"),e=_("div"),l=_("img"),n=O(),f=_("div"),$=_("div"),W(c.$$.fragment),w=O(),A=_("div"),E=_("span"),N=ie(C),ce=O(),W(T.$$.fragment),q=ie(`\r
									/\r
									`),G=_("span"),ue=ie(L),ke=O(),W(b.$$.fragment),j=O(),z=_("div"),B=_("div"),y=_("div"),M=new _t(!1),we=O(),Ee=_("p"),Ae=new _t(!1),Je=O(),x=_("div"),te=_("a"),Be=ie(Ce),Ke=O(),I&&I.c(),Qe=O(),le=_("div"),de=_("button"),Me=ie(Oe),We=O(),ae=_("div"),pe=_("div"),se=_("a"),W(_e.$$.fragment),Xe=O(),D&&D.c(),Ye=O(),V&&V.c(),Ue=O(),Ie=_("div"),W(re.$$.fragment),this.h()},l(i){t=h(i,"DIV",{class:!0});var p=v(t);a=h(p,"DIV",{class:!0});var F=v(a);e=h(F,"DIV",{class:!0});var P=v(e);l=h(P,"IMG",{class:!0,src:!0,alt:!0}),n=S(P),f=h(P,"DIV",{class:!0});var ne=v(f);$=h(ne,"DIV",{});var R=v($);X(c.$$.fragment,R),w=S(R),A=h(R,"DIV",{class:!0});var U=v(A);E=h(U,"SPAN",{class:!0});var J=v(E);N=oe(J,C),ce=S(J),X(T.$$.fragment,J),J.forEach(d),q=oe(U,`\r
									/\r
									`),G=h(U,"SPAN",{class:!0});var K=v(G);ue=oe(K,L),ke=S(K),X(b.$$.fragment,K),K.forEach(d),U.forEach(d),R.forEach(d),ne.forEach(d),P.forEach(d),j=S(F),z=h(F,"DIV",{class:!0});var ee=v(z);B=h(ee,"DIV",{class:!0});var Se=v(B);y=h(Se,"DIV",{class:!0});var Ne=v(y);M=ht(Ne,!1),Ne.forEach(d),Se.forEach(d),we=S(ee),Ee=h(ee,"P",{class:!0});var je=v(Ee);Ae=ht(je,!1),je.forEach(d),Je=S(ee),x=h(ee,"DIV",{class:!0});var he=v(x);te=h(he,"A",{href:!0,class:!0});var He=v(te);Be=oe(He,Ce),He.forEach(d),Ke=S(he),I&&I.l(he),he.forEach(d),ee.forEach(d),Qe=S(F),le=h(F,"DIV",{class:!0});var ve=v(le);de=h(ve,"BUTTON",{class:!0});var Le=v(de);Me=oe(Le,Oe),Le.forEach(d),We=S(ve),ae=h(ve,"DIV",{});var ge=v(ae);pe=h(ge,"DIV",{class:!0,"data-tip":!0});var Fe=v(pe);se=h(Fe,"A",{href:!0,class:!0});var Pe=v(se);X(_e.$$.fragment,Pe),Pe.forEach(d),Fe.forEach(d),Xe=S(ge),D&&D.l(ge),ge.forEach(d),ve.forEach(d),F.forEach(d),Ye=S(p),V&&V.l(p),Ue=S(p),Ie=h(p,"DIV",{class:!0});var Te=v(Ie);X(re.$$.fragment,Te),Te.forEach(d),p.forEach(d),this.h()},h(){var i,p,F,P,ne,R,U,J,K;u(l,"class","h-48 w-full object-cover md:h-full md:w-48 rounded-br-full"),vt(l.src,o=(i=s[4])!=null&&i.titleImage?(p=s[4])==null?void 0:p.titleImage:(P=(F=s[4])==null?void 0:F.Organization)!=null&&P.titleImage?(ne=s[4])==null?void 0:ne.Organization.titleImage:"https://picsum.photos/id/384/400/300/")||u(l,"src",o),u(l,"alt",m="Title for "+((R=s[4])==null?void 0:R.name)),u(E,"class","pr-1 flex items-center text-xs"),u(G,"class","pr-2 pl-2 flex items-center text-xs"),u(A,"class","flex justify-end text-sm"),u(f,"class","absolute w-full flex justify-end bottom-0 right-4 p-2"),u(e,"class","md:shrink-0 flex relative"),M.a=null,u(y,"class","uppercase tracking-wide text-xl text-accent font-semibold line-clamp-1"),u(B,"class","flex justify-between w-full"),Ae.a=null,u(Ee,"class","py-2 opacity-70"),u(te,"href",Ge="/organization/"+((J=(U=s[4])==null?void 0:U.Organization)==null?void 0:J.id)),u(te,"class","underline"),u(x,"class",""),u(z,"class","pt-8 px-8 w-full"),u(de,"class","btn btn-ghost btn-xs"),u(se,"href",Re="/races/"+((K=s[4])==null?void 0:K.id)),u(se,"class","btn btn-ghost p-1"),u(pe,"class","tooltip tooltip-top"),u(pe,"data-tip","Edit Races"),u(le,"class","px-4 pb-4 flex justify-between items-center"),u(a,"class","md:flex"),u(Ie,"class","p-2"),u(t,"class","mt-18 mb-8 max-w-md mx-auto bg-base-100 rounded-xl shadow-md overflow-hidden md:max-w-2xl")},m(i,p){fe(i,t,p),r(t,a),r(a,e),r(e,l),r(e,n),r(e,f),r(f,$),Y(c,$,null),r($,w),r($,A),r(A,E),r(E,N),r(E,ce),Y(T,E,null),r(A,q),r(A,G),r(G,ue),r(G,ke),Y(b,G,null),r(a,j),r(a,z),r(z,B),r(B,y),M.m(me,y),r(z,we),r(z,Ee),Ae.m(qe,Ee),r(z,Je),r(z,x),r(x,te),r(te,Be),r(x,Ke),I&&I.m(x,null),r(a,Qe),r(a,le),r(le,de),r(de,Me),r(le,We),r(le,ae),r(ae,pe),r(pe,se),Y(_e,se,null),r(ae,Xe),D&&D.m(ae,null),r(t,Ye),V&&V.m(t,null),r(t,Ue),r(t,Ie),Y(re,Ie,null),H=!0,Ze||(ye=Ot(de,"click",s[3]),Ze=!0)},p(i,p){var ne,R,U,J,K,ee,Se,Ne,je,he,He,ve,Le,ge,Fe,Pe,Te,ut,mt,dt,pt;(!H||p&1&&!vt(l.src,o=(ne=i[4])!=null&&ne.titleImage?(R=i[4])==null?void 0:R.titleImage:(J=(U=i[4])==null?void 0:U.Organization)!=null&&J.titleImage?(K=i[4])==null?void 0:K.Organization.titleImage:"https://picsum.photos/id/384/400/300/"))&&u(l,"src",o),(!H||p&1&&m!==(m="Title for "+((ee=i[4])==null?void 0:ee.name)))&&u(l,"alt",m);const F={};p&1&&(F.item=i[4]),p&1&&(F.userId=(Se=i[0].user)==null?void 0:Se.userId),c.$set(F),(!H||p&1)&&C!==(C=((Ne=i[4])==null?void 0:Ne._count.Likes)+"")&&$e(N,C),(!H||p&1)&&L!==(L=((je=i[4])==null?void 0:je._count.Follows)+"")&&$e(ue,L),(!H||p&1)&&me!==(me=((he=i[4])==null?void 0:he.name)+"")&&M.p(me),(!H||p&1)&&qe!==(qe=((He=i[4])!=null&&He.description?(ve=i[4])==null?void 0:ve.description:"No description provided")+"")&&Ae.p(qe),(!H||p&1)&&Ce!==(Ce=((ge=(Le=i[4])==null?void 0:Le.Organization)==null?void 0:ge.name)+"")&&$e(Be,Ce),(!H||p&1&&Ge!==(Ge="/organization/"+((Pe=(Fe=i[4])==null?void 0:Fe.Organization)==null?void 0:Pe.id)))&&u(te,"href",Ge),(Te=i[4])!=null&&Te.website?I?(I.p(i,p),p&1&&g(I,1)):(I=It(i),I.c(),g(I,1),I.m(x,null)):I&&(De(),k(I,1,1,()=>{I=null}),Ve()),(!H||p&2)&&Oe!==(Oe=i[1]?"^ Hide Events":"⌄ Show Events")&&$e(Me,Oe),(!H||p&1&&Re!==(Re="/races/"+((ut=i[4])==null?void 0:ut.id)))&&u(se,"href",Re),((mt=i[0].user)==null?void 0:mt.userId)===((dt=i[4])==null?void 0:dt.publisherId)?D?(D.p(i,p),p&1&&g(D,1)):(D=Dt(i),D.c(),g(D,1),D.m(ae,null)):D&&(De(),k(D,1,1,()=>{D=null}),Ve()),i[1]?V?(V.p(i,p),p&2&&g(V,1)):(V=Vt(i),V.c(),g(V,1),V.m(t,Ue)):V&&(De(),k(V,1,1,()=>{V=null}),Ve());const P={};p&1&&(P.item=i[4]),p&1&&(P.user=i[0].user),p&1&&(P.commentForm=i[0].commentForm),p&1&&(P.comments=(pt=i[4])==null?void 0:pt.Comments),re.$set(P)},i(i){H||(g(c.$$.fragment,i),g(T.$$.fragment,i),g(b.$$.fragment,i),g(I),g(_e.$$.fragment,i),g(D),g(V),g(re.$$.fragment,i),H=!0)},o(i){k(c.$$.fragment,i),k(T.$$.fragment,i),k(b.$$.fragment,i),k(I),k(_e.$$.fragment,i),k(D),k(V),k(re.$$.fragment,i),H=!1},d(i){i&&d(t),Z(c),Z(T),Z(b),I&&I.d(),Z(_e),D&&D.d(),V&&V.d(),Z(re),Ze=!1,ye()}}}function It(s){var $;let t,a,e,l,o=(($=s[4])==null?void 0:$.website)+"",m,n,f;return a=new be({props:{icon:"gridicons:popout"}}),{c(){t=_("a"),W(a.$$.fragment),e=O(),l=_("div"),m=ie(o),this.h()},l(c){t=h(c,"A",{href:!0,target:!0,class:!0});var w=v(t);X(a.$$.fragment,w),e=S(w),l=h(w,"DIV",{class:!0});var A=v(l);m=oe(A,o),A.forEach(d),w.forEach(d),this.h()},h(){var c;u(l,"class","inline line-clamp-1"),u(t,"href",n=kt((c=s[4])==null?void 0:c.website)),u(t,"target","_blank"),u(t,"class","flex items-center gap-1 text-secondary font-semibold uppercase")},m(c,w){fe(c,t,w),Y(a,t,null),r(t,e),r(t,l),r(l,m),f=!0},p(c,w){var A,E;(!f||w&1)&&o!==(o=((A=c[4])==null?void 0:A.website)+"")&&$e(m,o),(!f||w&1&&n!==(n=kt((E=c[4])==null?void 0:E.website)))&&u(t,"href",n)},i(c){f||(g(a.$$.fragment,c),f=!0)},o(c){k(a.$$.fragment,c),f=!1},d(c){c&&d(t),Z(a)}}}function Dt(s){let t,a,e,l,o;return e=new be({props:{class:"text-3xl text-primary",icon:"material-symbols:edit-outline"}}),{c(){t=_("div"),a=_("a"),W(e.$$.fragment),this.h()},l(m){t=h(m,"DIV",{class:!0,"data-tip":!0});var n=v(t);a=h(n,"A",{href:!0,class:!0});var f=v(a);X(e.$$.fragment,f),f.forEach(d),n.forEach(d),this.h()},h(){var m;u(a,"href",l="/series/"+((m=s[4])==null?void 0:m.id)+"/edit?from="+s[2].url.pathname),u(a,"class","btn btn-ghost p-1"),u(t,"class","tooltip tooltip-top"),u(t,"data-tip","Edit Event")},m(m,n){fe(m,t,n),r(t,a),Y(e,a,null),o=!0},p(m,n){var f;(!o||n&5&&l!==(l="/series/"+((f=m[4])==null?void 0:f.id)+"/edit?from="+m[2].url.pathname))&&u(a,"href",l)},i(m){o||(g(e.$$.fragment,m),o=!0)},o(m){k(e.$$.fragment,m),o=!1},d(m){m&&d(t),Z(e)}}}function Vt(s){var m;let t,a,e=bt((m=s[4])==null?void 0:m.Events),l=[];for(let n=0;n<e.length;n+=1)l[n]=zt(wt(s,e,n));const o=n=>k(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();t=ze()},l(n){for(let f=0;f<l.length;f+=1)l[f].l(n);t=ze()},m(n,f){for(let $=0;$<l.length;$+=1)l[$]&&l[$].m(n,f);fe(n,t,f),a=!0},p(n,f){var $;if(f&1){e=bt(($=n[4])==null?void 0:$.Events);let c;for(c=0;c<e.length;c+=1){const w=wt(n,e,c);l[c]?(l[c].p(w,f),g(l[c],1)):(l[c]=zt(w),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(De(),c=e.length;c<l.length;c+=1)o(c);Ve()}},i(n){if(!a){for(let f=0;f<e.length;f+=1)g(l[f]);a=!0}},o(n){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);a=!1},d(n){n&&d(t),St(l,n)}}}function Mt(s){let t,a;return t=new be({props:{icon:"material-symbols:progress-activity-sharp"}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Y(t,e,l),a=!0},i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){Z(t,e)}}}function Rt(s){let t,a;return t=new be({props:{icon:"mdi:check"}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Y(t,e,l),a=!0},i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){Z(t,e)}}}function zt(s){var ke;let t,a,e,l,o=s[5].name+"",m,n,f,$,c=((ke=s[5].createdAt)==null?void 0:ke.toLocaleDateString())+"",w,A,E,C,N,ce,T,q;const G=[Rt,Mt],L=[];function ue(b,j){return b[5].complete?0:1}return C=ue(s),N=L[C]=G[C](s),{c(){t=_("a"),a=_("div"),e=_("div"),l=_("h1"),m=ie(o),n=O(),f=_("div"),$=_("div"),w=ie(c),A=O(),E=_("div"),N.c(),ce=O(),this.h()},l(b){t=h(b,"A",{href:!0});var j=v(t);a=h(j,"DIV",{class:!0});var z=v(a);e=h(z,"DIV",{class:!0});var B=v(e);l=h(B,"H1",{class:!0});var y=v(l);m=oe(y,o),y.forEach(d),B.forEach(d),n=S(z),f=h(z,"DIV",{class:!0});var M=v(f);$=h(M,"DIV",{class:!0});var me=v($);w=oe(me,c),me.forEach(d),A=S(M),E=h(M,"DIV",{class:!0});var we=v(E);N.l(we),we.forEach(d),M.forEach(d),z.forEach(d),ce=S(j),j.forEach(d),this.h()},h(){u(l,"class","text-xl font-semibold"),u(e,"class","w-full pt-1"),u($,"class","text-xs"),u(E,"class","badge badge-xs badge-success text-success-content shadow-md p-3"),gt(E,"badge-warning",!s[5].complete),u(f,"class","flex justify-between"),u(a,"class","p-0 m-2 mx-4 border-t text-base-content"),u(t,"href",T="/events/"+s[5].id)},m(b,j){fe(b,t,j),r(t,a),r(a,e),r(e,l),r(l,m),r(a,n),r(a,f),r(f,$),r($,w),r(f,A),r(f,E),L[C].m(E,null),r(t,ce),q=!0},p(b,j){var B;(!q||j&1)&&o!==(o=b[5].name+"")&&$e(m,o),(!q||j&1)&&c!==(c=((B=b[5].createdAt)==null?void 0:B.toLocaleDateString())+"")&&$e(w,c);let z=C;C=ue(b),C!==z&&(De(),k(L[z],1,1,()=>{L[z]=null}),Ve(),N=L[C],N||(N=L[C]=G[C](b),N.c()),g(N,1),N.m(E,null)),(!q||j&1)&&gt(E,"badge-warning",!b[5].complete),(!q||j&1&&T!==(T="/events/"+b[5].id))&&u(t,"href",T)},i(b){q||(g(N),q=!0)},o(b){k(N),q=!1},d(b){b&&d(t),L[C].d()}}}function Ut(s){let t,a="Loading...";return{c(){t=_("div"),t.textContent=a},l(e){t=h(e,"DIV",{["data-svelte-h"]:!0}),Nt(t)!=="svelte-194gxkm"&&(t.textContent=a)},m(e,l){fe(e,t,l)},p:Q,i:Q,o:Q,d(e){e&&d(t)}}}function Jt(s){let t,a,e,l={ctx:s,current:null,token:null,hasCatch:!1,pending:Ut,then:Gt,catch:Bt,value:4,blocks:[,,,]};return $t(a=s[0].series,l),{c(){t=ze(),l.block.c()},l(o){t=ze(),l.block.l(o)},m(o,m){fe(o,t,m),l.block.m(o,l.anchor=m),l.mount=()=>t.parentNode,l.anchor=t,e=!0},p(o,m){s=o,l.ctx=s,m&1&&a!==(a=s[0].series)&&$t(a,l)||jt(l,s,m)},i(o){e||(g(l.block),e=!0)},o(o){for(let m=0;m<3;m+=1){const n=l.blocks[m];k(n)}e=!1},d(o){o&&d(t),l.block.d(o),l.token=null,l=null}}}function Kt(s){let t,a;return t=new Pt({props:{title:"Series",$$slots:{default:[Jt]},$$scope:{ctx:s}}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,l){Y(t,e,l),a=!0},p(e,[l]){const o={};l&263&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){Z(t,e)}}}function Qt(s,t,a){let e;Ct(s,Ft,n=>a(2,e=n));let{data:l}=t,o=!0;const m=()=>{a(1,o=!o)};return s.$$set=n=>{"data"in n&&a(0,l=n.data)},[l,o,e,m]}class nl extends Ht{constructor(t){super(),Lt(this,t,Qt,Kt,At,{data:0})}}export{nl as component};
