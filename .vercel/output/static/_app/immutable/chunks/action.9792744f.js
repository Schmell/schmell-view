import{d as m,w,b as F}from"./singletons.f8a34b6d.js";function E(t){function e(n){return n(t),()=>{}}return{subscribe:e}}function $(t){if(!L)return null;const e=document.querySelector(`[data-melt-id="${t}"]`);return A(e)?e:null}const d=t=>new Proxy(t,{get(e,n,r){return Reflect.get(e,n,r)},ownKeys(e){return Reflect.ownKeys(e).filter(n=>n!=="action")}}),b=t=>typeof t=="function";function k(t,e){const{stores:n,action:r,returned:c}=e??{},o=(()=>{if(n&&c)return m(n,a=>{const u=c(a);if(b(u)){const l=(...f)=>d({...u(...f),[`data-melt-${t}`]:"",action:r??i});return l.action=r??i,l}return d({...u,[`data-melt-${t}`]:"",action:r??i})});{const a=c,u=a==null?void 0:a();if(b(u)){const l=(...f)=>d({...u(...f),[`data-melt-${t}`]:"",action:r??i});return l.action=r??i,E(l)}return E(d({...u,[`data-melt-${t}`]:"",action:r??i}))}})(),s=r??(()=>{});return s.subscribe=o.subscribe,s}function C(t){const e=o=>o?`${t}-${o}`:t,n=o=>`data-melt-${t}${o?`-${o}`:""}`,r=o=>`[data-melt-${t}${o?`-${o}`:""}]`;return{name:e,attribute:n,selector:r,getEl:o=>document.querySelector(r(o))}}const L=typeof document<"u";function A(t){return t instanceof HTMLElement}function h(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function i(){}function y(t,e,n,r){const c=Array.isArray(e)?e:[e];return c.forEach(o=>t.addEventListener(o,n,r)),()=>{c.forEach(o=>t.removeEventListener(o,n,r))}}function O(t,e,n,r){const c=Array.isArray(e)?e:[e];if(typeof n=="function"){const o=R(s=>n(s));return c.forEach(s=>t.addEventListener(s,o,r)),()=>{c.forEach(s=>t.removeEventListener(s,o,r))}}return()=>void 0}function p(t){const e=t.currentTarget;if(!A(e))return null;const n=new CustomEvent(`m-${t.type}`,{detail:{originalEvent:t},cancelable:!0});return e.dispatchEvent(n),n}function R(t){return e=>{const n=p(e);if(!(n!=null&&n.defaultPrevented))return t(e)}}function v(t,...e){const n={};for(const r of Object.keys(t))e.includes(r)||(n[r]=t[r]);return n}const M=(t,e)=>{const n=(c,o)=>{t.update(s=>{const a=c(s);let u=a;return e&&(u=e({curr:s,next:a})),o==null||o(u),u})};return{...t,update:n,set:c=>{n(()=>c)}}},P={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control"};function S(t){const e={};return Object.keys(t).forEach(n=>{const r=n,c=t[r];e[r]=w(c)}),e}F(void 0,t=>{function e(r){t(r),t(void 0)}return y(document,"pointerdown",e,{passive:!1,capture:!0})});F(void 0,t=>{function e(r){r&&r.key===P.ESCAPE&&t(r),t(void 0)}return y(document,"keydown",e,{passive:!1,capture:!0})});export{v as a,k as b,C as c,O as d,h as e,$ as g,A as i,P as k,M as o,S as t};
